(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{268:function(t,e,s){t.exports=s(270)},270:function(t,e,s){"use strict";s.r(e);var n=s(0),r=s(59),i=s(222),a=s(8),o=s(13);function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function c(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){u(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function u(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var d={mounted:function(){this.popuCloser(),this.loadFields(),this.product=this.$popupParams.product},data:function(){return{formValidation:new a.a,fields:[],product:null}},methods:{popuCloser:o.a,close:function(){this.$popupParams.reject(!1),this.$popup.close()},addProduct:function(){if(this.formValidation.validateFields(this.fields),this.formValidation.fieldsValid(this.fields)){var t=this.formValidation.extractFields(this.fields),e=c(c({},this.product),t);return this.$popupParams.resolve(e),console.log(t,e),this.close()}n.nsSnackBar.error("The form is not valid.").subscribe()},loadFields:function(){var t=this;n.nsHttpClient.get("/api/nexopos/v4/fields/ns.refund-product").subscribe((function(e){t.fields=t.formValidation.createFields(e),t.fields.forEach((function(e){e.value=t.product[e.name]||""}))}))}}},p=s(1),f=Object(p.a)(d,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shadow-xl bg-white w-95vw md:w-3/5-screen lg:w-3/7-screen h-95vh md:h-3/5-screen lg:h-3/7-screen overflow-hidden flex flex-col"},[s("div",{staticClass:"p-2 flex justify-between border-b border-gray-200 items-center"},[s("h3",{staticClass:"text-semibold"},[t._v("Products")]),t._v(" "),s("div",[s("ns-close-button",{on:{click:function(e){return t.close()}}})],1)]),t._v(" "),s("div",{staticClass:"flex-auto overflow-y-auto relative"},[s("div",{staticClass:"p-2"},t._l(t.fields,(function(t,e){return s("ns-field",{key:e,attrs:{field:t}})})),1),t._v(" "),0===t.fields.length?s("div",{staticClass:"h-full w-full flex items-center justify-center"},[s("ns-spinner")],1):t._e()]),t._v(" "),s("div",{staticClass:"p-2 flex justify-between items-center border-t border-gray-200"},[s("div"),t._v(" "),s("div",[s("ns-button",{attrs:{type:"info"},on:{click:function(e){return t.addProduct()}}},[t._v("Add Product")])],1)])])}),[],!1,null,null,null).exports,b=s(14),v=s(20),m={components:{nsNumpad:v.a},data:function(){return{product:null,seeValue:0,availableQuantity:0}},mounted:function(){this.product=this.$popupParams.product,this.availableQuantity=this.$popupParams.availableQuantity,this.seeValue=this.product.quantity},methods:{popupResolver:b.a,close:function(){this.$popupParams.reject(!1),this.$popup.close()},setChangedValue:function(t){this.seeValue=t},updateQuantity:function(t){if(t>this.availableQuantity)return n.nsSnackBar.error("Unable to proceed as the quantity provided is exceed the available quantity.").subscribe();this.product.quantity=parseFloat(t),this.$popupParams.resolve(this.product),this.$popup.close()}}},_=Object(p.a)(m,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shadow-xl bg-white overflow-hidden w-95vw md:w-4/6-screen lg:w-3/7-screen"},[s("div",{staticClass:"p-2 flex justify-between"},[s("h3",{staticClass:"font-semibold"},[t._v("Quantity")]),t._v(" "),s("div",[s("ns-close-button",{on:{click:function(e){return t.close()}}})],1)]),t._v(" "),t.product?s("div",{staticClass:"border-t border-b border-gray-200 py-2 flex items-center justify-center text-2xl font-semibold"},[s("span",[t._v(t._s(t.seeValue))]),t._v(" "),s("span",{staticClass:"text-gray-600 text-sm"},[t._v("("+t._s(t.availableQuantity)+" available)")])]):t._e(),t._v(" "),t.product?s("div",{staticClass:"flex-auto overflow-y-auto p-2"},[s("ns-numpad",{attrs:{value:t.product.quantity},on:{next:function(e){return t.updateQuantity(e)},changed:function(e){return t.setChangedValue(e)}}})],1):t._e()])}),[],!1,null,null,null).exports,h=(s(205),{data:function(){return{value:[],options:[],label:null,type:"select"}},computed:{},mounted:function(){this.popupCloser(),this.value=this.$popupParams.value||[],this.options=this.$popupParams.options,this.label=this.$popupParams.label,this.type=this.$popupParams.type||this.type,console.log(this.$popupParams)},methods:{popupCloser:o.a,toggle:function(t){var e=this.value.indexOf(t);-1===e?this.value.unshift(t):this.value.splice(e,1)},isSelected:function(t){return this.value.indexOf(t)>=0},close:function(){this.$popupParams.reject(!1),this.$popup.close()},select:function(t){void 0!==t&&(this.value=[t]),this.$popupParams.resolve(this.value),this.close()}}}),y=Object(p.a)(h,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shadow-xl bg-white w-6/7-screen md:w-4/7-screen lg:w-3/7-screen overflow-hidden"},[s("div",{staticClass:"p-2 flex justify-between border-b border-gray-200"},[s("span",{staticClass:"text-semibold text-gray-700"},[t._v("\n            "+t._s(t.label)+"\n        ")]),t._v(" "),s("div",[s("ns-close-button",{on:{click:function(e){return t.close()}}})],1)]),t._v(" "),s("div",{staticClass:"flex-auto overflow-y-auto"},[s("ul",["select"===t.type?t._l(t.options,(function(e){return s("li",{key:e.value,staticClass:"p-2 border-b border-gray-200 text-gray-700 cursor-pointer hover:bg-gray-100",on:{click:function(s){return t.select(e)}}},[t._v(t._s(e.label))])})):t._e(),t._v(" "),"multiselect"===t.type?t._l(t.options,(function(e){return s("li",{key:e.value,staticClass:"p-2 border-b text-gray-700 cursor-pointer hover:bg-gray-100",class:t.isSelected(e)?"bg-blue-100 border-blue-200":"border-gray-200",on:{click:function(s){return t.toggle(e)}}},[t._v(t._s(e.label))])})):t._e()],2)]),t._v(" "),"multiselect"===t.type?s("div",{staticClass:"flex justify-between"},[s("div"),t._v(" "),s("div",[s("ns-button",{attrs:{type:"info"},on:{click:function(e){return t.select()}}},[t._v("Select")])],1)]):t._e()])}),[],!1,null,null,null).exports,g=s(10),x=s(7);function w(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function C(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?w(Object(s),!0).forEach((function(e){P(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):w(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function P(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var j={components:{nsNumpad:v.a},props:["order"],computed:{screenValue:function(){var t=parseInt(1+new Array(parseInt(ns.currency.ns_currency_precision)).fill("").map((function(t){return 0})).join(""));return this.screen/t},total:function(){return this.refundables.length>0?this.refundables.map((function(t){return parseFloat(t.unit_price)*parseFloat(t.quantity)})).reduce((function(t,e){return t+e}))+this.shippingFees:0+this.shippingFees},shippingFees:function(){return this.refundShipping?this.order.shipping:0}},data:function(){return{isSubmitting:!1,formValidation:new a.a,refundables:[],paymentOptions:[],paymentField:[],refundShipping:!1,selectedPaymentGateway:!1,screen:0,selectFields:[{type:"select",options:this.order.products.map((function(t){return{label:"".concat(t.name," - ").concat(t.unit.name," (x").concat(t.quantity,")"),value:t.id}})),validation:"required",name:"product_id",label:"Product",description:"Select the product to perform a refund."}]}},methods:{updateScreen:function(t){this.screen=t},toggleRefundShipping:function(t){this.refundShipping=t,this.refundShipping},proceedPayment:function(){var t=this;return!1===this.selectedPaymentGateway?n.nsSnackBar.error("Please select a payment gateway before proceeding.").subscribe():0===this.total?n.nsSnackBar.error("There is nothing to refund.").subscribe():0===this.screenValue?n.nsSnackBar.error("Please provide a valid payment amount.").subscribe():void x.a.show(g.default,{title:"Confirm Your Action",message:"The refund will be made on the current order.",onAction:function(e){e&&t.doProceed()}})},doProceed:function(){var t=this,e={products:this.refundables,total:this.screenValue,payment:this.selectedPaymentGateway,refund_shipping:this.refundShipping};this.isSubmitting=!0,n.nsHttpClient.post("/api/nexopos/v4/orders/".concat(this.order.id,"/refund"),e).subscribe((function(e){t.isSubmitting=!1,t.$emit("updated",!0),n.nsSnackBar.success(e.message).subscribe()}),(function(e){t.isSubmitting=!1,n.nsSnackBar.error(e.message).subscribe()}))},addProduct:function(){var t=this;if(this.formValidation.validateFields(this.selectFields),!this.formValidation.fieldsValid(this.selectFields))return n.nsSnackBar.error("Please select a product before proceeding.").subscribe();var e=this.formValidation.extractFields(this.selectFields),s=this.order.products.filter((function(t){return t.id===e.product_id})),r=this.refundables.filter((function(t){return t.id===e.product_id}));if(r.length>0&&r.map((function(t){return parseInt(t.quantity)})).reduce((function(t,e){return t+e}))===s[0].quantity)return n.nsSnackBar.error("Not enough quantity to proceed.").subscribe();if(0===s[0].quantity)return n.nsSnackBar.error("Not enough quantity to proceed.").subscribe();var i=C(C({},s[0]),{condition:"",description:""});new Promise((function(t,e){x.a.show(f,{resolve:t,reject:e,product:i})})).then((function(e){e.quantity=t.getProductOriginalQuantity(e.id)-t.getProductUsedQuantity(e.id),t.refundables.push(e)}),(function(t){return t}))},getProductOriginalQuantity:function(t){var e=this.order.products.filter((function(e){return e.id===t}));return e.length>0?e.map((function(t){return parseFloat(t.quantity)})).reduce((function(t,e){return t+e})):0},getProductUsedQuantity:function(t){var e=this.refundables.filter((function(e){return e.id===t}));return e.length>0?e.map((function(t){return parseFloat(t.quantity)})).reduce((function(t,e){return t+e})):0},openSettings:function(t){var e=this;new Promise((function(e,s){x.a.show(f,{resolve:e,reject:s,product:t})})).then((function(s){var n=e.refundables.indexOf(t);e.$set(e.refundables,n,s)}),(function(t){return t}))},selectPaymentGateway:function(){var t=this;new Promise((function(e,s){x.a.show(y,C({resolve:e,reject:s,value:[t.selectedPaymentOption]},t.paymentField[0]))})).then((function(e){t.selectedPaymentGateway=e[0]}),(function(t){return t}))},changeQuantity:function(t){var e=this;new Promise((function(s,n){var r=e.getProductOriginalQuantity(t.id)-e.getProductUsedQuantity(t.id)+parseFloat(t.quantity);x.a.show(_,{resolve:s,reject:n,product:t,availableQuantity:r})})).then((function(s){if(s.quantity>e.getProductUsedQuantity(t.id)-t.quantity){var n=e.refundables.indexOf(t);e.$set(e.refundables,n,s)}}))},deleteProduct:function(t){var e=this;new Promise((function(s,n){x.a.show(g.default,{title:"Confirm Your Action",message:"Would you like to delete this product ?",onAction:function(s){if(s){var n=e.refundables.indexOf(t);e.refundables.splice(n,1)}}})}))}},mounted:function(){var t=this;this.selectFields=this.formValidation.createFields(this.selectFields),n.nsHttpClient.get("/api/nexopos/v4/orders/payments").subscribe((function(e){t.paymentField=e}))}},O=Object(p.a)(j,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"-m-4 flex-auto flex flex-wrap relative"},[t.isSubmitting?s("div",{staticClass:"bg-overlay h-full w-full flex items-center justify-center absolute z-30"},[s("ns-spinner")],1):t._e(),t._v(" "),s("div",{staticClass:"px-4 w-full lg:w-1/2"},[s("h3",{staticClass:"py-2 border-b-2 text-gray-700 border-blue-400"},[t._v("Refund With Products")]),t._v(" "),s("div",{staticClass:"my-2"},[s("ul",[s("li",{staticClass:"border-b border-blue-400 flex justify-between items-center mb-2"},[s("div",{staticClass:"flex-auto flex-col flex"},[s("div",{staticClass:"p-2 flex"},t._l(t.selectFields,(function(t,e){return s("ns-field",{key:e,attrs:{field:t}})})),1),t._v(" "),s("div",{staticClass:"flex justify-between p-2"},[s("div",{staticClass:"flex items-center text-gray-700"},[t.order.shipping>0?s("span",{staticClass:"mr-2"},[t._v("Refund Shipping")]):t._e(),t._v(" "),t.order.shipping>0?s("ns-checkbox",{attrs:{checked:t.refundShipping},on:{change:function(e){return t.toggleRefundShipping(e)}}}):t._e()],1),t._v(" "),s("div",[s("button",{staticClass:"border-2 rounded-full border-gray-200 px-2 py-1 hover:bg-blue-400 hover:text-white text-gray-700",on:{click:function(e){return t.addProduct()}}},[t._v("Add Product")])])])])]),t._v(" "),t._m(0),t._v(" "),t._l(t.refundables,(function(e){return s("li",{key:e.id,staticClass:"bg-gray-100 border-b border-blue-400 flex justify-between items-center mb-2"},[s("div",{staticClass:"px-2 text-gray-700 flex justify-between flex-auto"},[s("div",{staticClass:"flex flex-col"},[s("p",{staticClass:"py-2"},[s("span",[t._v(t._s(e.name))]),t._v(" "),"damaged"===e.condition?s("span",{staticClass:"rounded-full px-2 py-1 text-xs bg-red-400 mx-2 text-white"},[t._v("Damaged")]):t._e(),t._v(" "),"unspoiled"===e.condition?s("span",{staticClass:"rounded-full px-2 py-1 text-xs bg-green-400 mx-2 text-white"},[t._v("Unspoiled")]):t._e()]),t._v(" "),s("small",[t._v(t._s(e.unit.name))])]),t._v(" "),s("div",{staticClass:"flex items-center justify-center"},[s("span",{staticClass:"py-1 flex items-center cursor-pointer border-b border-dashed border-blue-400"},[t._v(t._s(t._f("currency")(e.unit_price*e.quantity)))])])]),t._v(" "),s("div",{staticClass:"flex"},[s("p",{staticClass:"p-2 border-l border-blue-400 cursor-pointer text-gray-600 hover:bg-blue-100 w-16 h-16 flex items-center justify-center",on:{click:function(s){return t.openSettings(e)}}},[s("i",{staticClass:"las la-cog text-xl"})]),t._v(" "),s("p",{staticClass:"p-2 border-l border-blue-400 cursor-pointer text-gray-600 hover:bg-blue-100 w-16 h-16 flex items-center justify-center",on:{click:function(s){return t.deleteProduct(e)}}},[s("i",{staticClass:"las la-trash"})]),t._v(" "),s("p",{staticClass:"p-2 border-l border-blue-400 cursor-pointer text-gray-600 hover:bg-blue-100 w-16 h-16 flex items-center justify-center",on:{click:function(s){return t.changeQuantity(e)}}},[t._v(t._s(e.quantity))])])])}))],2)])]),t._v(" "),s("div",{staticClass:"px-4 w-full lg:w-1/2"},[s("h3",{staticClass:"py-2 border-b-2 text-gray-700 border-blue-400"},[t._v("Summary")]),t._v(" "),s("div",{staticClass:"py-2"},[s("div",{staticClass:"bg-blue-400 text-white font-semibold flex mb-2 p-2 justify-between"},[s("span",[t._v("Total")]),t._v(" "),s("span",[t._v(t._s(t._f("currency")(t.total)))])]),t._v(" "),s("div",{staticClass:"bg-teal-400 text-white font-semibold flex mb-2 p-2 justify-between"},[s("span",[t._v("Paid")]),t._v(" "),s("span",[t._v(t._s(t._f("currency")(t.order.tendered)))])]),t._v(" "),s("div",{staticClass:"bg-indigo-400 text-white font-semibold flex mb-2 p-2 justify-between cursor-pointer",on:{click:function(e){return t.selectPaymentGateway()}}},[s("span",[t._v("Payment Gateway")]),t._v(" "),s("span",[t._v(t._s(t.selectedPaymentGateway?t.selectedPaymentGateway.label:"N/A"))])]),t._v(" "),s("div",{staticClass:"bg-gray-300 text-gray-900 font-semibold flex mb-2 p-2 justify-between"},[s("span",[t._v("Screen")]),t._v(" "),s("span",[t._v(t._s(t._f("currency")(t.screenValue)))])]),t._v(" "),s("div",[s("ns-numpad",{attrs:{currency:!0,value:t.screen},on:{changed:function(e){return t.updateScreen(e)},next:function(e){return t.proceedPayment(e)}}})],1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("h4",{staticClass:"py-1 border-b-2 text-gray-700 border-blue-400"},[this._v("Products")])])}],!1,null,null,null).exports,k=s(34);class S{getTypeLabel(t){switch(t){case"delivery":return"Delivery";case"takeaway":return"Take Away";default:return"Unknown Type"}}getDeliveryStatus(t){switch(t){case"pending":return"Pending";case"ongoing":return"Ongoing";case"delivered":return"Delivered";case"failed":return"Delivery Failure";default:return"Unknown Status"}}getProcessingStatus(t){switch(t){case"pending":return"Pending";case"ongoing":return"Ongoing";case"done":return"Done";case"failed":return"Failure";default:return"Unknown Status"}}getPaymentStatus(t){switch(t){case"paid":return"Paid";case"hold":return"Hold";case"unpaid":return"Unpaid";case"partially_paid":return"Partially Paid";default:return"Unknown Status"}}}function $(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function F(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?$(Object(s),!0).forEach((function(e){A(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):$(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function A(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var E={props:["order"],data:function(){return{labels:new S,validation:new a.a,inputValue:0,fields:[]}},methods:{updateValue:function(t){this.inputValue=t},loadPaymentFields:function(){var t=this;n.nsHttpClient.get("/api/nexopos/v4/orders/payments").subscribe((function(e){t.fields=t.validation.createFields(e)}))},submitPayment:function(t){var e=this;if(this.validation.validateFields(this.fields),!this.validation.fieldsValid(this.fields))return n.nsSnackBar.error("Unable to proceed the form is not valid").subscribe();if(0==parseFloat(t))return n.nsSnackBar.error("Please provide a valid value").subscribe();t=parseFloat(t);var s=F(F({},this.validation.extractFields(this.fields)),{},{value:t});Popup.show(g.default,{title:"Confirm Your Action",message:"You make a payment for {amount}. A payment can't be canceled. Would you like to proceed ?".replace("{amount}",this.$options.filters.currency(t)),onAction:function(t){t&&n.nsHttpClient.post("/api/nexopos/v4/orders/".concat(e.order.id,"/payments"),s).subscribe((function(t){n.nsSnackBar.success(t.message).subscribe(),e.$emit("changed")}),(function(t){n.nsSnackBar.error(t.message).subscribe()}))}})}},components:{nsNumpad:v.a},mounted:function(){this.loadPaymentFields()}},D=Object(p.a)(E,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("div",{staticClass:"flex -mx-4 flex-wrap"},[s("div",{staticClass:"px-2 w-full md:w-1/2"},[s("div",{staticClass:"my-1 h-12 py-1 px-2 flex justify-between items-center bg-blue-400 text-white text-xl font-bold"},[s("span",[t._v("Total")]),t._v(" "),s("span",[t._v(t._s(t._f("currency")(t.order.total)))])])]),t._v(" "),s("div",{staticClass:"px-2 w-full md:w-1/2"},[s("div",{staticClass:"my-1 h-12 py-1 px-2 flex justify-between items-center  bg-green-400 text-white text-xl font-bold"},[s("span",[t._v("Paid")]),t._v(" "),s("span",[t._v(t._s(t._f("currency")(t.order.tendered)))])])]),t._v(" "),s("div",{staticClass:"px-2 w-full md:w-1/2"},[s("div",{staticClass:"my-1 h-12 py-1 px-2 flex justify-between items-center  bg-red-400 text-white text-xl font-bold"},[s("span",[t._v("Unpaid")]),t._v(" "),t.order.total-t.order.tendered>0?s("span",[t._v(t._s(t._f("currency")(t.order.total-t.order.tendered)))]):t._e(),t._v(" "),t.order.total-t.order.tendered<=0?s("span",[t._v(t._s(t._f("currency")(0)))]):t._e()])]),t._v(" "),s("div",{staticClass:"px-2 w-full md:w-1/2"},[s("div",{staticClass:"my-1 h-12 py-1 px-2 flex justify-between items-center  bg-teal-400 text-white text-xl font-bold"},[s("span",[t._v("Customer Account")]),t._v(" "),s("span",[t._v(t._s(t._f("currency")(t.order.customer.account_amount)))])])])]),t._v(" "),s("div",{staticClass:"flex -mx-4 flex-wrap"},[s("div",{staticClass:"px-2 w-full mb-4 md:w-1/2"},["paid"!==t.order.payment_status?s("div",[s("h3",{staticClass:"font-semibold border-b-2 border-blue-400 py-2"},[t._v("\n                    Payment\n                ")]),t._v(" "),s("div",{staticClass:"py-2"},[t._l(t.fields,(function(t,e){return s("ns-field",{key:e,attrs:{field:t}})})),t._v(" "),s("div",{staticClass:"my-2 px-2 h-12 flex justify-end items-center bg-gray-200"},[t._v("\n                        "+t._s(t._f("currency")(t.inputValue))+"\n                    ")]),t._v(" "),s("ns-numpad",{attrs:{floating:!0,value:t.inputValue},on:{next:function(e){return t.submitPayment(e)},changed:function(e){return t.updateValue(e)}}})],2)]):t._e(),t._v(" "),"paid"===t.order.payment_status?s("div",{staticClass:"flex items-center justify-center h-full"},[s("h3",{staticClass:"text-gray-700 font-semibold"},[t._v("No payment possible for paid order.")])]):t._e()]),t._v(" "),s("div",{staticClass:"px-2 w-full mb-4 md:w-1/2"},[s("h3",{staticClass:"font-semibold border-b-2 border-blue-400 py-2 mb-2"},[t._v("\n                Payment History\n            ")]),t._v(" "),s("ul",t._l(t.order.payments,(function(e){return s("li",{key:e.id,staticClass:"p-2 flex items-center justify-between text-shite bg-gray-300 mb-2"},[s("span",[t._v(t._s(e.identifier))]),t._v(" "),s("span",[t._v(t._s(t._f("currency")(e.value)))])])})),0)])])])}),[],!1,null,null,null).exports,Q={props:["order"],data:function(){return{labels:new S}},methods:{}},V=Object(p.a)(Q,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"-mx-4 flex flex-wrap"},[s("div",{staticClass:"flex-auto"},[s("div",{staticClass:"w-full mb-2 flex-wrap flex"},[t._m(0),t._v(" "),s("div",{staticClass:"mb-2 w-full md:w-1/2 px-4"},[s("div",{staticClass:"bg-gray-200 p-2 flex justify-between items-start"},[t._m(1),t._v(" "),s("div",{staticClass:"font-semibold text-gray-800"},[t._v(t._s(t._f("currency")(t.order.subtotal)))])])]),t._v(" "),s("div",{staticClass:"mb-2 w-full md:w-1/2 px-4"},[s("div",{staticClass:"p-2 flex justify-between items-start bg-red-400 text-white"},[s("div",[s("h4",{staticClass:"text-semibold"},[s("span",[t._v("Discount")]),t._v(" "),"percentage"===t.order.discount_type?s("span",{staticClass:"ml-1"},[t._v("("+t._s(t.order.discount_percentage)+"%)")]):t._e(),t._v(" "),"flat"===t.order.discount_type?s("span",{staticClass:"ml-1"},[t._v("(Flat)")]):t._e()])]),t._v(" "),s("div",{staticClass:"font-semibold"},[t._v(t._s(t._f("currency")(t.order.discount)))])])]),t._v(" "),s("div",{staticClass:"mb-2 w-full md:w-1/2 px-4"},[s("div",{staticClass:"p-2 flex justify-between items-start bg-gray-100"},[t._m(2),t._v(" "),s("div",{staticClass:"font-semibold text-gray-800"},[t._v(t._s(t._f("currency")(t.order.shipping)))])])]),t._v(" "),s("div",{staticClass:"mb-2 w-full md:w-1/2 px-4"},[s("div",{staticClass:"p-2 flex justify-between items-start bg-red-400 text-white"},[t._m(3),t._v(" "),s("div",{staticClass:"font-semibold"},[t._v(t._s(t._f("currency")(t.order.total_coupons)))])])]),t._v(" "),s("div",{staticClass:"mb-2 w-full md:w-1/2 px-4"},[s("div",{staticClass:"p-2 flex justify-between items-start bg-blue-400 text-white"},[t._m(4),t._v(" "),s("div",{staticClass:"font-semibold"},[t._v(t._s(t._f("currency")(t.order.total)))])])]),t._v(" "),s("div",{staticClass:"mb-2 w-full md:w-1/2 px-4"},[s("div",{staticClass:"p-2 flex justify-between items-start bg-yellow-400 text-gray-700"},[t._m(5),t._v(" "),s("div",{staticClass:"font-semibold"},[t._v(t._s(t._f("currency")(t.order.tax_value)))])])]),t._v(" "),s("div",{staticClass:"mb-2 w-full md:w-1/2 px-4"},[s("div",{staticClass:"p-2 flex justify-between items-start text-gray-700 bg-gray-100"},[t._m(6),t._v(" "),s("div",{staticClass:"font-semibold"},[t._v(t._s(t._f("currency")(t.order.change)))])])]),t._v(" "),s("div",{staticClass:"mb-2 w-full md:w-1/2 px-4"},[s("div",{staticClass:"p-2 flex justify-between items-start bg-teal-500 text-white"},[t._m(7),t._v(" "),s("div",{staticClass:"font-semibold"},[t._v(t._s(t._f("currency")(t.order.tendered)))])])])])]),t._v(" "),s("div",{staticClass:"px-4 w-full md:w-1/3 lg:w-1/4 mb-2"},[t._m(8),t._v(" "),s("div",{staticClass:"mb-2 p-2 flex justify-between items-start bg-gray-200"},[t._m(9),t._v(" "),s("div",{staticClass:"font-semibold text-gray-800"},[t._v(t._s(t.order.nexopos_customers_name))])]),t._v(" "),s("div",{staticClass:"mb-2 p-2 flex justify-between items-start bg-gray-200"},[t._m(10),t._v(" "),s("div",{staticClass:"font-semibold text-gray-800"},[t._v(t._s(t.labels.getTypeLabel(t.order.type)))])]),t._v(" "),s("div",{staticClass:"mb-2 p-2 flex justify-between items-start bg-gray-200"},[t._m(11),t._v(" "),s("div",{staticClass:"font-semibold text-gray-800"},[t._v(t._s(t.labels.getDeliveryStatus(t.order.delivery_status)))])]),t._v(" "),s("div",{staticClass:"mb-2 p-2 flex justify-between items-start bg-gray-200"},[t._m(12),t._v(" "),s("div",{staticClass:"font-semibold text-gray-800"},[t._v(t._s(t.labels.getProcessingStatus(t.order.delivery_status)))])]),t._v(" "),s("div",{staticClass:"mb-2 p-2 flex justify-between items-start bg-gray-200"},[t._m(13),t._v(" "),s("div",{staticClass:"font-semibold text-gray-800"},[t._v(t._s(t.labels.getPaymentStatus(t.order.payment_status)))])])]),t._v(" "),s("div",{staticClass:"px-4 w-full md:2/3 lg:w-3/4 mb-2"},[t._m(14),t._v(" "),t._l(t.order.products,(function(e){return s("div",{key:e.id,staticClass:"p-2 flex justify-between items-start bg-gray-200"},[s("div",[s("h4",{staticClass:"text-semibold text-gray-700"},[t._v(t._s(e.name)+" (x"+t._s(e.quantity)+")")]),t._v(" "),s("p",{staticClass:"text-gray-600 text-sm"},[t._v(t._s(e.unit.name||"N/A"))])]),t._v(" "),s("div",{staticClass:"font-semibold text-gray-800"},[t._v(t._s(t._f("currency")(e.unit_price)))])])}))],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"w-full mb-2 px-4"},[e("h3",{staticClass:"font-semibold text-gray-800 pb-2 border-b border-blue-400"},[this._v("Payment Summary")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h4",{staticClass:"text-semibold text-gray-700"},[this._v("Sub Total")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h4",{staticClass:"text-semibold text-gray-700"},[this._v("Shipping")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h4",{staticClass:"text-semibold"},[e("span",[this._v("Coupons")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h4",{staticClass:"text-semibold"},[this._v("Total")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h4",{staticClass:"text-semibold "},[this._v("Taxes")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h4",{staticClass:"text-semibold"},[this._v("Change")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h4",{staticClass:"text-semibold"},[this._v("Paid")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2"},[e("h3",{staticClass:"font-semibold text-gray-800 pb-2 border-b border-blue-400"},[this._v("Order Status")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h4",{staticClass:"text-semibold text-gray-700"},[e("span",[this._v("Customer")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h4",{staticClass:"text-semibold text-gray-700"},[e("span",[this._v("Type")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h4",{staticClass:"text-semibold text-gray-700"},[e("span",[this._v("Delivery Status")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h4",{staticClass:"text-semibold text-gray-700"},[e("span",[this._v("Proceessing Status")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h4",{staticClass:"text-semibold text-gray-700"},[e("span",[this._v("Payment Status")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2"},[e("h3",{staticClass:"font-semibold text-gray-800 pb-2 border-b border-blue-400"},[this._v("Products")])])}],!1,null,null,null).exports,q=s(5),B={props:["order"],name:"ns-order-instalments",data:function(){return{labels:new S,original:[],instalments:[]}},mounted:function(){this.loadInstalments()},computed:{totalInstalments:function(){return this.instalments.length>0?this.instalments.map((function(t){return t.amount})).reduce((function(t,e){return parseFloat(t)+parseFloat(e)})):0}},methods:{__:q.a,loadInstalments:function(){var t=this;n.nsHttpClient.get("/api/nexopos/v4/orders/".concat(this.order.id,"/instalments")).subscribe((function(e){t.original=e,t.instalments=e.map((function(t){return t.price_clicked=!1,t.date_clicked=!1,t.date=moment(t.date).format("YYYY-MM-DD"),t}))}))},addInstalment:function(){this.instalments.push({date:ns.date.moment.format("YYYY-MM-DD"),amount:this.order.total-this.totalInstalments,paid:!1})},createInstalment:function(t){var e=this;Popup.show(g.default,{title:Object(q.a)("Confirm Your Action"),message:Object(q.a)("Would you like to create this instalment ?"),onAction:function(s){s&&n.nsHttpClient.post("/api/nexopos/v4/orders/".concat(e.order.id,"/instalments"),{instalment:t}).subscribe((function(t){e.loadInstalments(),n.nsSnackBar.success(t.message).subscribe()}),(function(t){n.nsSnackBar.error(t.message||Object(q.a)("An unexpected error has occured")).subscribe()}))}})},deleteInstalment:function(t){var e=this;Popup.show(g.default,{title:Object(q.a)("Confirm Your Action"),message:Object(q.a)("Would you like to delete this instalment ?"),onAction:function(s){s&&n.nsHttpClient.delete("/api/nexopos/v4/orders/".concat(e.order.id,"/instalments/").concat(t.id)).subscribe((function(s){var r=e.instalments.indexOf(t);e.instalments.splice(r,1),n.nsSnackBar.success(s.message).subscribe()}),(function(t){n.nsSnackBar.error(t.message||Object(q.a)("An unexpected error has occured")).subscribe()}))}})},markAsPaid:function(t){var e=this;Popup.show(g.default,{title:Object(q.a)("Confirm Your Action"),message:Object(q.a)("Would you like to make this as paid ?"),onAction:function(s){s&&n.nsHttpClient.get("/api/nexopos/v4/orders/".concat(e.order.id,"/instalments/").concat(t.id,"/paid")).subscribe((function(t){e.loadInstalments(),n.nsSnackBar.success(t.message).subscribe()}),(function(t){n.nsSnackBar.error(t.message||Object(q.a)("An unexpected error has occured")).subscribe()}))}})},togglePriceEdition:function(t){var e=this;t.paid||(t.price_clicked=!t.price_clicked,this.$forceUpdate(),t.price_clicked&&setTimeout((function(){e.$refs.amount[0].select()}),100))},updateInstalment:function(t){var e=this;Popup.show(g.default,{title:Object(q.a)("Confirm Your Action"),message:Object(q.a)("Would you like to update that instalment ?"),onAction:function(s){s&&n.nsHttpClient.put("/api/nexopos/v4/orders/".concat(e.order.id,"/instalments/").concat(t.id),{instalment:t}).subscribe((function(t){n.nsSnackBar.success(t.message).subscribe()}),(function(t){n.nsSnackBar.error(t.message||Object(q.a)("An unexpected error has occured")).subscribe()}))}})},toggleDateEdition:function(t){var e=this;t.paid||(t.date_clicked=!t.date_clicked,this.$forceUpdate(),t.date_clicked&&setTimeout((function(){e.$refs.date[0].select()}),200))}}},I=Object(p.a)(B,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"-mx-4 flex-auto flex flex-wrap"},[s("div",{staticClass:"flex flex-auto"},[s("div",{staticClass:"w-full mb-2 flex-wrap"},[s("div",{staticClass:"w-full mb-2 px-4"},[s("h3",{staticClass:"font-semibold text-gray-800 pb-2 border-b border-blue-400"},[t._v(t._s(t.__("Instalments")))])]),t._v(" "),s("div",{staticClass:"px-4"},[s("ul",{staticClass:"border-gray-400 border-t text-gray-700"},[t._l(t.instalments,(function(e){return s("li",{key:e.id,staticClass:"border-b border-l flex justify-between",class:e.paid?"bg-green-200 border-green-400":"bg-gray-200 border-blue-400"},[s("span",{staticClass:"p-2"},[e.date_clicked?t._e():s("span",{on:{click:function(s){return t.toggleDateEdition(e)}}},[t._v(t._s(e.date))]),t._v(" "),e.date_clicked?s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.date,expression:"instalment.date"}],ref:"date",refInFor:!0,staticClass:"border border-blue-400 rounded",attrs:{type:"date"},domProps:{value:e.date},on:{blur:function(s){return t.toggleDateEdition(e)},input:function(s){s.target.composing||t.$set(e,"date",s.target.value)}}})]):t._e()]),t._v(" "),s("div",{staticClass:"flex items-center"},[s("span",{staticClass:"flex items-center px-2 h-full border-r",class:e.paid?"border-green-400":"border-blue-400"},[e.price_clicked?t._e():s("span",{on:{click:function(s){return t.togglePriceEdition(e)}}},[t._v(t._s(t._f("currency")(e.amount)))]),t._v(" "),e.price_clicked?s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"instalment.amount"}],ref:"amount",refInFor:!0,staticClass:"border border-blue-400 p-1",attrs:{type:"text"},domProps:{value:e.amount},on:{blur:function(s){return t.togglePriceEdition(e)},input:function(s){s.target.composing||t.$set(e,"amount",s.target.value)}}})]):t._e()]),t._v(" "),!e.paid&&e.id?s("div",{staticClass:"w-36 justify-center flex items-center px-2 h-full border-r",class:e.paid?"border-green-400":"border-blue-400"},[s("div",{staticClass:"px-2"},[s("ns-icon-button",{attrs:{buttonClass:"bg-green-400 hover:bg-green-500 text-white hover:text-white hover:border-green-600",className:"la-money-bill-wave-alt"},on:{click:function(s){return t.markAsPaid(e)}}})],1),t._v(" "),s("div",{staticClass:"px-2"},[s("ns-icon-button",{attrs:{buttonClass:"bg-blue-400 hover:bg-blue-500 text-white hover:text-white hover:border-blue-600",className:"la-save"},on:{click:function(s){return t.updateInstalment(e)}}})],1),t._v(" "),s("div",{staticClass:"px-2"},[s("ns-icon-button",{attrs:{buttonClass:"bg-red-400 text-white hover:border hover:border-blue-400 hover:bg-red-500",className:"la-trash-alt"},on:{click:function(s){return t.deleteInstalment(e)}}})],1)]):t._e(),t._v(" "),e.paid||e.id?t._e():s("div",{staticClass:"w-36 justify-center flex items-center px-2 h-full border-r",class:e.paid?"border-green-400":"border-blue-400"},[s("div",{staticClass:"px-2"},[s("button",{staticClass:"px-3 py-1 rounded-full bg-blue-400 text-white",on:{click:function(s){return t.createInstalment(e)}}},[s("i",{staticClass:"las la-plus"}),t._v("\n                                        "+t._s(t.__("Create"))+"\n                                    ")])])]),t._v(" "),e.paid?s("span",{staticClass:"w-36 border-green-400 justify-center flex items-center px-2 h-full border-r"},[t._v("\n                                "+t._s(t.__("Paid"))+"\n                            ")]):t._e()])])})),t._v(" "),s("li",{staticClass:"flex justify-between p-2 bg-gray-200 border-r border-b border-l border-gray-400"},[s("div",{staticClass:"flex items-center justify-center"},[s("span",[t._v("\n                                "+t._s(t.__("Total :"))+" "+t._s(t._f("currency")(t.order.total))+"\n                            ")]),t._v(" "),s("span",{staticClass:"ml-1 text-sm"},[t._v("\n                                ("+t._s(t.__("Remaining :"))+" "+t._s(t._f("currency")(t.order.total-t.totalInstalments))+")\n                            ")])]),t._v(" "),s("div",{staticClass:"-mx-2 flex flex-wrap items-center"},[s("span",{staticClass:"px-2"},[t._v("\n                                "+t._s(t.__("Instalments:"))+" "+t._s(t._f("currency")(t.totalInstalments))+"\n                            ")]),t._v(" "),s("span",{staticClass:"px-2"},[s("button",{staticClass:"rounded-full px-3 py-1 bg-blue-400 text-white",on:{click:function(e){return t.addInstalment()}}},[t._v(t._s(t.__("Add Instalment")))])])])])],2)])])])])}),[],!1,null,null,null).exports,T={filters:{nsCurrency:r.a},name:"ns-preview-popup",data:function(){return{active:"details",order:new Object,products:[],payments:[]}},components:{nsOrderRefund:O,nsOrderPayment:D,nsOrderDetails:V,nsOrderInstalments:I},computed:{isVoidable:function(){return["paid","partially_paid","unpaid"].includes(this.order.payment_status)},isDeleteAble:function(){return["hold"].includes(this.order.payment_status)}},methods:{closePopup:function(){this.$popup.close()},setActive:function(t){this.active=t},refresh:function(){this.$popupParams.component.$emit("updated"),this.loadOrderDetails(this.$popupParams.order.id)},printOrder:function(){var t=this.$popupParams.order;n.nsHttpClient.get("/api/nexopos/v4/orders/".concat(t.id,"/print/receipt")).subscribe((function(t){n.nsSnackBar.success(t.message).subscribe()}))},loadOrderDetails:function(t){var e=this;Object(i.a)([n.nsHttpClient.get("/api/nexopos/v4/orders/".concat(t)),n.nsHttpClient.get("/api/nexopos/v4/orders/".concat(t,"/products")),n.nsHttpClient.get("/api/nexopos/v4/orders/".concat(t,"/payments"))]).subscribe((function(t){e.order=t[0],e.products=t[1],e.payments=t[2]}))},deleteOrder:function(){var t=this;Popup.show(g.default,{title:"Confirm Your Action",message:"Would you like to delete this order",onAction:function(e){e&&n.nsHttpClient.delete("/api/nexopos/v4/orders/".concat(t.$popupParams.order.id)).subscribe((function(e){n.nsSnackBar.success(e.message).subscribe(),t.refreshCrudTable(),t.closePopup()}),(function(t){n.nsSnackBar.error(t.message).subscribe()}))}})},voidOrder:function(){var t=this;Popup.show(k.default,{title:"Confirm Your Action",message:"The current order will be void. This action will be recorded. Consider providing a reason for this operation",onAction:function(e){!1!==e&&n.nsHttpClient.post("/api/nexopos/v4/orders/".concat(t.$popupParams.order.id,"/void"),{reason:e}).subscribe((function(e){n.nsSnackBar.success(e.message).subscribe(),t.refreshCrudTable(),t.closePopup()}),(function(t){n.nsSnackBar.error(t.message).subscribe()}))}})},refreshCrudTable:function(){this.$popupParams.component.$emit("updated",!0)}},watch:{active:function(){"details"===this.active&&this.loadOrderDetails(this.$popupParams.order.id)}},mounted:function(){var t=this;this.loadOrderDetails(this.$popupParams.order.id),this.$popup.event.subscribe((function(e){"click-overlay"===e.event&&t.$popup.close()}))}};window.nsOrderPreviewPopup=T;var U=T,H=Object(p.a)(U,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"h-6/7-screen w-6/7-screen shadow-xl bg-white flex flex-col"},[s("div",{staticClass:"border-b border-gray-300 p-3 flex items-center justify-between"},[t._m(0),t._v(" "),s("div",[s("ns-close-button",{on:{click:function(e){return t.closePopup()}}})],1)]),t._v(" "),s("div",{staticClass:"p-2 overflow-auto bg-gray-100 flex flex-auto"},[t.order.id?s("ns-tabs",{attrs:{active:t.active},on:{active:function(e){return t.setActive(e)}}},[s("ns-tabs-item",{staticClass:"overflow-y-auto",attrs:{label:"Details",identifier:"details"}},[s("ns-order-details",{attrs:{order:t.order}})],1),t._v(" "),["order_void","hold","refunded","partially_refunded"].includes(t.order.payment_status)?t._e():s("ns-tabs-item",{staticClass:"overflow-y-auto",attrs:{label:"Payments",identifier:"payments"}},[s("ns-order-payment",{attrs:{order:t.order},on:{changed:function(e){return t.refresh()}}})],1),t._v(" "),["order_void","hold","refunded"].includes(t.order.payment_status)?t._e():s("ns-tabs-item",{staticClass:"flex overflow-y-auto",attrs:{label:"Refund & Return",identifier:"refund"}},[s("ns-order-refund",{attrs:{order:t.order},on:{changed:function(e){return t.refresh()}}})],1),t._v(" "),["partially_paid"].includes(t.order.payment_status)?s("ns-tabs-item",{staticClass:"flex overflow-y-auto",attrs:{label:"Instalments",identifier:"instalments"}},[s("ns-order-instalments",{attrs:{order:t.order},on:{changed:function(e){return t.refresh()}}})],1):t._e()],1):t._e(),t._v(" "),t.order.id?t._e():s("div",{staticClass:"h-full w-full flex items-center justify-center"},[s("ns-spinner")],1)],1),t._v(" "),s("div",{staticClass:"p-2 flex justify-between border-t border-gray-200"},[s("div",[t.isVoidable?s("ns-button",{attrs:{type:"danger"},on:{click:function(e){return t.voidOrder()}}},[s("i",{staticClass:"las la-ban"}),t._v("\n                Void\n            ")]):t._e(),t._v(" "),t.isDeleteAble?s("ns-button",{attrs:{type:"danger"},on:{click:function(e){return t.deleteOrder()}}},[s("i",{staticClass:"las la-trash"}),t._v("\n                Delete\n            ")]):t._e()],1),t._v(" "),s("div",[s("ns-button",{attrs:{type:"info"},on:{click:function(e){return t.printOrder()}}},[s("i",{staticClass:"las la-print"}),t._v("\n                Print\n            ")])],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h3",[this._v("Order Options")])])}],!1,null,null,null).exports,Y={name:"ns-products-preview",computed:{product:function(){return this.$popupParams.product}},methods:{changeActiveTab:function(t){this.active=t,"units-quantities"===this.active&&this.loadProductQuantities()},loadProductQuantities:function(){var t=this;this.hasLoadedUnitQuantities=!1,n.nsHttpClient.get("/api/nexopos/v4/products/".concat(this.product.id,"/units/quantities")).subscribe((function(e){t.unitQuantities=e,t.hasLoadedUnitQuantities=!0}))}},data:function(){return{active:"units-quantities",unitQuantities:[],hasLoadedUnitQuantities:!1}},mounted:function(){var t=this;this.loadProductQuantities(),this.$popup.event.subscribe((function(e){"click-overlay"===e.event&&t.$popup.close()}))}},N=Object(p.a)(Y,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shadow-lg w-6/7-screen lg:w-3/5-screen h-6/7-screen lg:h-4/5-screen bg-white overflow-hidden flex flex-col"},[s("div",{staticClass:"p-2 border-b border-gray-200 text-gray-700 text-center font-medium flex justify-between items-center"},[s("div",[t._v("\n            Previewing : "+t._s(t.product.name)+"\n        ")]),t._v(" "),s("div",[s("ns-close-button",{on:{click:function(e){return t.$popup.close()}}})],1)]),t._v(" "),s("div",{staticClass:"flex-auto overflow-y-auto bg-gray-100"},[s("div",{staticClass:"p-2"},[s("ns-tabs",{attrs:{active:t.active},on:{active:function(e){return t.changeActiveTab(e)}}},[s("ns-tabs-item",{attrs:{label:"Units & Quantities",identifier:"units-quantities"}},[t.hasLoadedUnitQuantities?s("table",{staticClass:"table w-full"},[s("thead",[s("tr",[s("th",{staticClass:"p-1 bg-blue-100 border-blue-400 text-blue-700 border"},[t._v("Unit")]),t._v(" "),s("th",{staticClass:"text-right p-1 bg-blue-100 border-blue-400 text-blue-700 border",attrs:{width:"150"}},[t._v("Sale Price")]),t._v(" "),s("th",{staticClass:"text-right p-1 bg-blue-100 border-blue-400 text-blue-700 border",attrs:{width:"150"}},[t._v("Wholesale Price")]),t._v(" "),s("th",{staticClass:"text-right p-1 bg-blue-100 border-blue-400 text-blue-700 border",attrs:{width:"150"}},[t._v("Quantity")])])]),t._v(" "),s("tbody",t._l(t.unitQuantities,(function(e){return s("tr",{key:e.id},[s("td",{staticClass:"p-1 border border-gray-400 text-gray-600 text-left"},[t._v(t._s(e.unit.name))]),t._v(" "),s("td",{staticClass:"p-1 border border-gray-400 text-gray-600 text-right"},[t._v(t._s(t._f("currency")(e.sale_price)))]),t._v(" "),s("td",{staticClass:"p-1 border border-gray-400 text-gray-600 text-right"},[t._v(t._s(t._f("currency")(e.wholesale_price)))]),t._v(" "),s("td",{staticClass:"p-1 border border-gray-400 text-gray-600 text-right"},[t._v(t._s(e.quantity))])])})),0)]):t._e(),t._v(" "),t.hasLoadedUnitQuantities?t._e():s("ns-spinner",{attrs:{size:"16",border:"4"}})],1)],1)],1)])])}),[],!1,null,null,null).exports,G=s(54),R=s(47),W=s(68);const L={nsOrderPreview:H,nsProductPreview:N,nsAlertPopup:G.default,nsConfirmPopup:g.default,nsPromptPopup:k.default,nsMediaPopup:R.a,nsProcurementQuantity:W.a};for(let t in L)window[t]=L[t]}},[[268,0,1]]]);
//# sourceMappingURL=popups.js.map