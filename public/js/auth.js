(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{265:function(e,t,s){e.exports=s(266)},266:function(e,t,s){"use strict";s.r(t);var i=s(3),n=s.n(i),r=s(31);const a=s(281).default,o=s(282).default,l=s(283).default,d=s(284).default,c=(window.nsState,window.nsScreen,window.nsExtraComponents);window.nsComponents=Object.assign(r,c),window.authVueComponent=new n.a({el:"#page-container",components:{nsLogin:o,nsRegister:a,nsPasswordLost:l,nsNewPassword:d}})},281:function(e,t,s){"use strict";s.r(t);var i=s(8),n=s(0),r=s(222),a={name:"ns-register",data:function(){return{fields:[],xXsrfToken:null,validation:new i.a}},mounted:function(){var e=this;Object(r.a)([n.nsHttpClient.get("/api/nexopos/v4/fields/ns.register"),n.nsHttpClient.get("/sanctum/csrf-cookie")]).subscribe((function(t){e.fields=e.validation.createFields(t[0]),e.xXsrfToken=n.nsHttpClient.response.config.headers["X-XSRF-TOKEN"],setTimeout((function(){return n.nsHooks.doAction("ns-register-mounted",e)}))}))},methods:{register:function(){var e=this;if(!this.validation.validateFields(this.fields))return n.nsSnackBar.error("Unable to proceed the form is not valid.").subscribe();this.validation.disableFields(this.fields),n.nsHooks.applyFilters("ns-register-submit",!0)&&n.nsHttpClient.post("/auth/sign-up",this.validation.getValue(this.fields),{headers:{"X-XSRF-TOKEN":this.xXsrfToken}}).subscribe((function(e){n.nsSnackBar.success(e.message).subscribe(),setTimeout((function(){document.location=e.data.redirectTo}),1500)}),(function(t){e.validation.triggerFieldsErrors(e.fields,t),e.validation.enableFields(e.fields),n.nsSnackBar.error(t.message).subscribe()}))}}},o=s(1),l=Object(o.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bg-white rounded shadow overflow-hidden transition-all duration-100"},[s("div",{staticClass:"p-3 -my-2"},[e.fields.length>0?s("div",{staticClass:"py-2 fade-in-entrance anim-duration-300"},e._l(e.fields,(function(e,t){return s("ns-field",{key:t,attrs:{field:e}})})),1):e._e()]),e._v(" "),0===e.fields.length?s("div",{staticClass:"flex items-center justify-center"},[s("ns-spinner")],1):e._e(),e._v(" "),e._m(0),e._v(" "),s("div",{staticClass:"flex justify-between items-center bg-gray-200 p-3"},[s("div",[s("ns-button",{attrs:{type:"info"},on:{click:function(t){return e.register()}}},[e._v("Register")])],1),e._v(" "),s("div",[s("ns-link",{attrs:{href:"/sign-in",type:"success"}},[e._v("Sign In")])],1)])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"flex w-full items-center justify-center py-4"},[t("a",{staticClass:"hover:underline text-blue-600 text-sm",attrs:{href:"/sign-in"}},[this._v("Already registered ?")])])}],!1,null,null,null);t.default=l.exports},282:function(e,t,s){"use strict";s.r(t);var i=s(222),n=s(8),r=s(0),a={name:"ns-login",props:["showRecoveryLink"],data:function(){return{fields:[],xXsrfToken:null,validation:new n.a,isSubitting:!1}},mounted:function(){var e=this;Object(i.a)([r.nsHttpClient.get("/api/nexopos/v4/fields/ns.login"),r.nsHttpClient.get("/sanctum/csrf-cookie")]).subscribe((function(t){e.fields=e.validation.createFields(t[0]),e.xXsrfToken=r.nsHttpClient.response.config.headers["X-XSRF-TOKEN"],setTimeout((function(){return r.nsHooks.doAction("ns-login-mounted",e)}),100)}),(function(e){r.nsSnackBar.error(e.message||"An unexpected error occured.","OK",{duration:0}).subscribe()}))},methods:{signIn:function(){var e=this;if(!this.validation.validateFields(this.fields))return r.nsSnackBar.error("Unable to proceed the form is not valid.").subscribe();this.validation.disableFields(this.fields),r.nsHooks.applyFilters("ns-login-submit",!0)&&(this.isSubitting=!0,r.nsHttpClient.post("/auth/sign-in",this.validation.getValue(this.fields),{headers:{"X-XSRF-TOKEN":this.xXsrfToken}}).subscribe((function(e){document.location=e.data.redirectTo}),(function(t){e.isSubitting=!1,e.validation.enableFields(e.fields),t.data&&e.validation.triggerFieldsErrors(e.fields,t.data),r.nsSnackBar.error(t.message).subscribe()})))}}},o=s(1),l=Object(o.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bg-white rounded shadow overflow-hidden transition-all duration-100"},[s("div",{staticClass:"p-3 -my-2"},[e.fields.length>0?s("div",{staticClass:"py-2 fade-in-entrance anim-duration-300"},e._l(e.fields,(function(e,t){return s("ns-field",{key:t,attrs:{field:e}})})),1):e._e()]),e._v(" "),0===e.fields.length?s("div",{staticClass:"flex items-center justify-center py-10"},[s("ns-spinner",{attrs:{border:"4",size:"16"}})],1):e._e(),e._v(" "),e.showRecoveryLink?s("div",{staticClass:"flex w-full items-center justify-center py-4"},[s("a",{staticClass:"hover:underline text-blue-600 text-sm",attrs:{href:"/password-lost"}},[e._v("Password Forgotten ?")])]):e._e(),e._v(" "),s("div",{staticClass:"flex justify-between items-center bg-gray-200 p-3"},[s("div",[s("ns-button",{staticClass:"justify-between",attrs:{type:"info"},on:{click:function(t){return e.signIn()}}},[e.isSubitting?s("ns-spinner",{staticClass:"mr-2",attrs:{size:"6",border:"2"}}):e._e(),e._v(" "),s("span",[e._v("Sign In")])],1)],1),e._v(" "),s("div",[s("ns-link",{attrs:{href:"/sign-up",type:"success"}},[e._v("Register")])],1)])])}),[],!1,null,null,null);t.default=l.exports},283:function(e,t,s){"use strict";s.r(t);var i=s(5),n=s(222),r=s(8),a=s(0),o={name:"ns-login",data:function(){return{fields:[],xXsrfToken:null,validation:new r.a,isSubitting:!1}},mounted:function(){var e=this;Object(n.a)([a.nsHttpClient.get("/api/nexopos/v4/fields/ns.password-lost"),a.nsHttpClient.get("/sanctum/csrf-cookie")]).subscribe((function(t){e.fields=e.validation.createFields(t[0]),e.xXsrfToken=a.nsHttpClient.response.config.headers["X-XSRF-TOKEN"],setTimeout((function(){return a.nsHooks.doAction("ns-login-mounted",e)}),100)}),(function(e){a.nsSnackBar.error(e.message||"An unexpected error occured.","OK",{duration:0}).subscribe()}))},methods:{__:i.a,requestRecovery:function(){var e=this;if(!this.validation.validateFields(this.fields))return a.nsSnackBar.error(Object(i.a)("Unable to proceed the form is not valid.")).subscribe();this.validation.disableFields(this.fields),a.nsHooks.applyFilters("ns-password-lost-submit",!0)&&(this.isSubitting=!0,a.nsHttpClient.post("/auth/password-lost",this.validation.getValue(this.fields),{headers:{"X-XSRF-TOKEN":this.xXsrfToken}}).subscribe((function(e){a.nsSnackBar.success(e.message).subscribe(),setTimeout((function(){document.location=e.data.redirectTo}),500)}),(function(t){e.isSubitting=!1,e.validation.enableFields(e.fields),t.data&&e.validation.triggerFieldsErrors(e.fields,t.data),a.nsSnackBar.error(t.message).subscribe()})))}}},l=s(1),d=Object(l.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bg-white rounded shadow overflow-hidden transition-all duration-100"},[s("div",{staticClass:"p-3 -my-2"},[e.fields.length>0?s("div",{staticClass:"py-2 fade-in-entrance anim-duration-300"},e._l(e.fields,(function(e,t){return s("ns-field",{key:t,attrs:{field:e}})})),1):e._e()]),e._v(" "),0===e.fields.length?s("div",{staticClass:"flex items-center justify-center py-10"},[s("ns-spinner",{attrs:{border:"4",size:"16"}})],1):e._e(),e._v(" "),s("div",{staticClass:"flex w-full items-center justify-center py-4"},[s("a",{staticClass:"hover:underline text-blue-600 text-sm",attrs:{href:"/sign-in"}},[e._v(e._s(e.__("Remember Your Password ?")))])]),e._v(" "),s("div",{staticClass:"flex justify-between items-center bg-gray-200 p-3"},[s("div",[s("ns-button",{staticClass:"justify-between",attrs:{type:"info"},on:{click:function(t){return e.requestRecovery()}}},[e.isSubitting?s("ns-spinner",{staticClass:"mr-2",attrs:{size:"6",border:"2"}}):e._e(),e._v(" "),s("span",[e._v(e._s(e.__("Submit")))])],1)],1),e._v(" "),s("div",[s("ns-link",{attrs:{href:"/sign-up",type:"success"}},[e._v(e._s(e.__("Register")))])],1)])])}),[],!1,null,null,null);t.default=d.exports},284:function(e,t,s){"use strict";s.r(t);var i=s(5),n=s(222),r=s(8),a=s(0),o={name:"ns-login",props:["token","user"],data:function(){return{fields:[],xXsrfToken:null,validation:new r.a,isSubitting:!1}},mounted:function(){var e=this;Object(n.a)([a.nsHttpClient.get("/api/nexopos/v4/fields/ns.new-password"),a.nsHttpClient.get("/sanctum/csrf-cookie")]).subscribe((function(t){e.fields=e.validation.createFields(t[0]),e.xXsrfToken=a.nsHttpClient.response.config.headers["X-XSRF-TOKEN"],setTimeout((function(){return a.nsHooks.doAction("ns-login-mounted",e)}),100)}),(function(e){a.nsSnackBar.error(e.message||"An unexpected error occured.","OK",{duration:0}).subscribe()}))},methods:{__:i.a,submitNewPassword:function(){var e=this;if(!this.validation.validateFields(this.fields))return a.nsSnackBar.error(Object(i.a)("Unable to proceed the form is not valid.")).subscribe();this.validation.disableFields(this.fields),a.nsHooks.applyFilters("ns-new-password-submit",!0)&&(this.isSubitting=!0,a.nsHttpClient.post("/auth/new-password/".concat(this.user,"/").concat(this.token),this.validation.getValue(this.fields),{headers:{"X-XSRF-TOKEN":this.xXsrfToken}}).subscribe((function(e){a.nsSnackBar.success(e.message).subscribe(),setTimeout((function(){document.location=e.data.redirectTo}),500)}),(function(t){e.isSubitting=!1,e.validation.enableFields(e.fields),t.data&&e.validation.triggerFieldsErrors(e.fields,t.data),a.nsSnackBar.error(t.message).subscribe()})))}}},l=s(1),d=Object(l.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bg-white rounded shadow overflow-hidden transition-all duration-100"},[s("div",{staticClass:"p-3 -my-2"},[e.fields.length>0?s("div",{staticClass:"py-2 fade-in-entrance anim-duration-300"},e._l(e.fields,(function(e,t){return s("ns-field",{key:t,attrs:{field:e}})})),1):e._e()]),e._v(" "),0===e.fields.length?s("div",{staticClass:"flex items-center justify-center py-10"},[s("ns-spinner",{attrs:{border:"4",size:"16"}})],1):e._e(),e._v(" "),s("div",{staticClass:"flex justify-between items-center bg-gray-200 p-3"},[s("div",[s("ns-button",{staticClass:"justify-between",attrs:{type:"info"},on:{click:function(t){return e.submitNewPassword()}}},[e.isSubitting?s("ns-spinner",{staticClass:"mr-2",attrs:{size:"6",border:"2"}}):e._e(),e._v(" "),s("span",[e._v(e._s(e.__("Save Password")))])],1)],1),e._v(" "),s("div")])])}),[],!1,null,null,null);t.default=d.exports}},[[265,0,1]]]);
//# sourceMappingURL=auth.js.map