(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{253:function(t,e,r){t.exports=r(268)},268:function(t,e,r){"use strict";r.r(e);var s=r(5),a=r.n(s),i=r(3),n=(r(223),r(8)),o=r(0);function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d={name:"ns-rewards-system",mounted:function(){this.loadForm(),console.log(this.rules)},data:function(){return{formValidation:new n.a,form:{},nsSnackBar:o.nsSnackBar,nsHttpClient:o.nsHttpClient}},props:["submit-method","submit-url","return-url","src","rules"],methods:{submit:function(){var t=this;if(0===this.form.rules.length)return o.nsSnackBar.error(this.$slots["error-no-rules"]?this.$slots["error-no-rules"]:"No error message is defined when no rules is provided").subscribe();if(this.form.rules.filter((function(t){return t.filter((function(t){return!t.value&&"hidden"!==t.type})).length>0})).length>0)return o.nsSnackBar.error(this.$slots["error-no-valid-rules"]?this.$slots["error-no-valid-rules"]:"No error message is defined when no valid rules is provided").subscribe();if(this.formValidation.validateForm(this.form).length>0)return o.nsSnackBar.error(this.$slots["error-invalid-form"]?this.$slots["error-invalid-form"][0].text:"No error message provided for having an invalid form.",this.$slots.okay?this.$slots.okay[0].text:"OK").subscribe();if(this.formValidation.disableForm(this.form),void 0===this.submitUrl)return o.nsSnackBar.error(this.$slots["error-no-submit-url"]?this.$slots["error-no-submit-url"][0].text:"No error message provided for not having a valid submit url.",this.$slots.okay?this.$slots.okay[0].text:"OK").subscribe();var e=c(c({},this.formValidation.extractForm(this.form)),{},{rules:this.form.rules.map((function(t){var e={};return t.forEach((function(t){e[t.name]=t.value})),e}))});o.nsHttpClient[this.submitMethod?this.submitMethod.toLowerCase():"post"](this.submitUrl,e).subscribe((function(e){if("success"===e.status)return document.location=t.returnUrl;t.formValidation.enableForm(t.form)}),(function(e){o.nsSnackBar.error(e.data.message,void 0,{duration:5e3}).subscribe(),t.formValidation.triggerError(t.form,e.response.data),t.formValidation.enableForm(t.form)}))},handleGlobalChange:function(t){this.globallyChecked=t,this.rows.forEach((function(e){return e.$checked=t}))},loadForm:function(){var t=this;o.nsHttpClient.get("".concat(this.src)).subscribe((function(e){t.form=t.parseForm(e.form)}))},parseForm:function(t){t.main.value=void 0===t.main.value?"":t.main.value,t.main=this.formValidation.createFields([t.main])[0];var e=0;for(var r in console.log(t),t.tabs)0===e&&(t.tabs[r].active=!0),t.tabs[r].active=void 0!==t.tabs[r].active&&t.tabs[r].active,t.tabs[r].fields=this.formValidation.createFields(t.tabs[r].fields),e++;return t},getRuleForm:function(){return JSON.parse(JSON.stringify(this.form.ruleForm))},addRule:function(){this.form.rules.push(this.getRuleForm())},removeRule:function(t){this.form.rules.splice(t,1)}}},f=r(2),p=Object(f.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form flex-auto flex flex-col",attrs:{id:"crud-form"}},[0===Object.values(t.form).length?r("div",{staticClass:"flex items-center justify-center flex-auto"},[r("ns-spinner")],1):t._e(),t._v(" "),Object.values(t.form).length>0?[r("div",{staticClass:"flex flex-col"},[r("div",{staticClass:"flex justify-between items-center"},[r("label",{staticClass:"font-bold my-2 text-gray-700",attrs:{for:"title"}},[t._t("title",[t._v("No title Provided")])],2),t._v(" "),r("div",{staticClass:"text-sm my-2 text-gray-700",attrs:{for:"title"}},[t.returnUrl?r("a",{staticClass:"rounded-full border border-gray-400 hover:bg-red-600 hover:text-white bg-white px-2 py-1",attrs:{href:t.returnUrl}},[t._v("Return")]):t._e()])]),t._v(" "),r("div",{staticClass:"flex border-2 rounded overflow-hidden",class:t.form.main.disabled?"border-gray-500":t.form.main.errors.length>0?"border-red-600":"border-blue-500"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.main.value,expression:"form.main.value"}],staticClass:"flex-auto text-gray-700 outline-none h-10 px-2",class:t.form.main.disabled?"bg-gray-400":"",attrs:{disabled:t.form.main.disabled,type:"text"},domProps:{value:t.form.main.value},on:{blur:function(e){return t.formValidation.checkField(t.form.main)},change:function(e){return t.formValidation.checkField(t.form.main)},input:function(e){e.target.composing||t.$set(t.form.main,"value",e.target.value)}}}),t._v(" "),r("button",{staticClass:"outline-none px-4 h-10 text-white border-l border-gray-400",class:t.form.main.disabled?"bg-gray-500":t.form.main.errors.length>0?"bg-red-500":"bg-blue-500",attrs:{disabled:t.form.main.disabled},on:{click:function(e){return t.submit()}}},[t._t("save",[t._v("Save")])],2)]),t._v(" "),t.form.main.description&&0===t.form.main.errors.length?r("p",{staticClass:"text-xs text-gray-600 py-1"},[t._v(t._s(t.form.main.description))]):t._e(),t._v(" "),t._l(t.form.main.errors,(function(e,s){return r("p",{key:s,staticClass:"text-xs py-1 text-red-500"},[r("span",[t._t("error-required",[t._v(t._s(e.identifier))])],2)])}))],2),t._v(" "),r("div",{staticClass:"flex -mx-4 mt-4",attrs:{id:"points-wrapper"}},[r("div",{staticClass:"w-full md:w-1/3 lg:1/4 px-4"},[r("div",{staticClass:"bg-white rounded shadow"},[r("div",{staticClass:"header border-b border-gray-200 p-2"},[t._v("General")]),t._v(" "),r("div",{staticClass:"body p-2"},t._l(t.form.tabs.general.fields,(function(t,e){return r("ns-field",{key:e,staticClass:"mb-2",attrs:{field:t}})})),1)]),t._v(" "),r("div",{staticClass:"rounded bg-gray-100 border border-gray-400 p-2 flex justify-between items-center my-3"},[t._t("add",[r("span",{staticClass:"text-gray-700"},[t._v("Add Rule")])]),t._v(" "),r("button",{staticClass:"rounded bg-blue-500 text-white font-semibold flex items-center justify-center h-10 w-10",on:{click:function(e){return t.addRule()}}},[r("i",{staticClass:"las la-plus"})])],2)]),t._v(" "),r("div",{staticClass:"w-full md:w-2/3 lg:3/4 px-4 -m-3 flex flex-wrap items-start justify-start"},t._l(t.form.rules,(function(e,s){return r("div",{key:s,staticClass:"w-full md:w-1/2 p-3"},[r("div",{staticClass:"rounded shadow bg-white flex-auto"},[r("div",{staticClass:"body p-2"},t._l(e,(function(t,e){return r("ns-field",{key:e,staticClass:"mb-2",attrs:{field:t}})})),1),t._v(" "),r("div",{staticClass:"header border-t border-gray-200 p-2 flex justify-end"},[r("ns-button",{attrs:{type:"danger"},on:{click:function(e){return t.removeRule(s)}}},[r("i",{staticClass:"las la-times"})])],1)])])})),0)])]:t._e()],2)}),[],!1,null,null,null).exports;function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var b={name:"ns-create-coupons",mounted:function(){this.loadForm()},computed:{validTabs:function(){if(this.form){var t=[];for(var e in this.form.tabs)["selected_products","selected_categories"].includes(e)&&t.push(this.form.tabs[e]);return t}return[]},activeValidTab:function(){return this.validTabs.filter((function(t){return t.active}))[0]},generalTab:function(){var t=[];for(var e in this.form.tabs)["general"].includes(e)&&t.push(this.form.tabs[e]);return t}},data:function(){return{formValidation:new n.a,form:{},nsSnackBar:o.nsSnackBar,nsHttpClient:o.nsHttpClient,options:new Array(40).fill("").map((function(t,e){return{label:"Foo"+e,value:"bar"+e}}))}},props:["submit-method","submit-url","return-url","src","rules"],methods:{setTabActive:function(t){this.validTabs.forEach((function(t){return t.active=!1})),t.active=!0},submit:function(){var t=this;if(this.formValidation.validateForm(this.form).length>0)return o.nsSnackBar.error(this.$slots["error-invalid-form"]?this.$slots["error-invalid-form"][0].text:"No error message provided for having an invalid form.",this.$slots.okay?this.$slots.okay[0].text:"OK").subscribe();if(void 0===this.submitUrl)return o.nsSnackBar.error(this.$slots["error-no-submit-url"]?this.$slots["error-no-submit-url"][0].text:"No error message provided for not having a valid submit url.",this.$slots.okay?this.$slots.okay[0].text:"OK").subscribe();this.formValidation.disableForm(this.form);var e=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},this.formValidation.extractForm(this.form));o.nsHttpClient[this.submitMethod?this.submitMethod.toLowerCase():"post"](this.submitUrl,e).subscribe((function(e){if("success"===e.status)return document.location=t.returnUrl;t.formValidation.enableForm(t.form)}),(function(e){o.nsSnackBar.error(e.message,void 0,{duration:5e3}).subscribe(),t.formValidation.triggerError(t.form,e.response.data),t.formValidation.enableForm(t.form)}))},handleGlobalChange:function(t){this.globallyChecked=t,this.rows.forEach((function(e){return e.$checked=t}))},loadForm:function(){var t=this;o.nsHttpClient.get("".concat(this.src)).subscribe((function(e){t.form=t.parseForm(e.form)}))},parseForm:function(t){t.main.value=void 0===t.main.value?"":t.main.value,t.main=this.formValidation.createFields([t.main])[0];var e=0;for(var r in t.tabs)1===e&&void 0===t.tabs[r].active&&(t.tabs[r].active=!0),t.tabs[r].active=void 0!==t.tabs[r].active&&t.tabs[r].active,t.tabs[r].fields=this.formValidation.createFields(t.tabs[r].fields),e++;return t},addOption:function(t){var e=this.options.indexOf(t);e>=0&&(this.options[e].selected=!this.options[e].selected)},removeOption:function(t){var e=t.option;t.index;e.selected=!1},getRuleForm:function(){return this.form.ruleForm},addRule:function(){this.form.rules.push(this.getRuleForm())},removeRule:function(t){this.form.rules.splice(t,1)}}},h=Object(f.a)(b,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form flex-auto flex flex-col",attrs:{id:"crud-form"}},[0===Object.values(t.form).length?r("div",{staticClass:"flex items-center justify-center flex-auto"},[r("ns-spinner")],1):t._e(),t._v(" "),Object.values(t.form).length>0?[r("div",{staticClass:"flex flex-col"},[r("div",{staticClass:"flex justify-between items-center"},[r("label",{staticClass:"font-bold my-2 text-gray-700",attrs:{for:"title"}},[t._t("title",[t._v("No title Provided")])],2),t._v(" "),r("div",{staticClass:"text-sm my-2 text-gray-700",attrs:{for:"title"}},[t.returnUrl?r("a",{staticClass:"rounded-full border border-gray-400 hover:bg-red-600 hover:text-white bg-white px-2 py-1",attrs:{href:t.returnUrl}},[t._v("Return")]):t._e()])]),t._v(" "),r("div",{staticClass:"flex border-2 rounded overflow-hidden",class:t.form.main.disabled?"border-gray-500":t.form.main.errors.length>0?"border-red-600":"border-blue-500"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.main.value,expression:"form.main.value"}],staticClass:"flex-auto text-gray-700 outline-none h-10 px-2",class:t.form.main.disabled?"bg-gray-400":"",attrs:{disabled:t.form.main.disabled,type:"text"},domProps:{value:t.form.main.value},on:{blur:function(e){return t.formValidation.checkField(t.form.main)},change:function(e){return t.formValidation.checkField(t.form.main)},input:function(e){e.target.composing||t.$set(t.form.main,"value",e.target.value)}}}),t._v(" "),r("button",{staticClass:"outline-none px-4 h-10 text-white border-l border-gray-400",class:t.form.main.disabled?"bg-gray-500":t.form.main.errors.length>0?"bg-red-500":"bg-blue-500",attrs:{disabled:t.form.main.disabled},on:{click:function(e){return t.submit()}}},[t._t("save",[t._v("Save")])],2)]),t._v(" "),t.form.main.description&&0===t.form.main.errors.length?r("p",{staticClass:"text-xs text-gray-600 py-1"},[t._v(t._s(t.form.main.description))]):t._e(),t._v(" "),t._l(t.form.main.errors,(function(e,s){return r("p",{key:s,staticClass:"text-xs py-1 text-red-500"},[r("span",[t._t("error-required",[t._v(t._s(e.identifier))])],2)])}))],2),t._v(" "),r("div",{staticClass:"-mx-4 flex flex-wrap mt-4",attrs:{id:"form-container"}},[r("div",{staticClass:"px-4 w-full md:w-1/2"},t._l(t.generalTab,(function(e,s){return r("div",{key:s,staticClass:"rounded bg-white shadow p-2"},t._l(e.fields,(function(t,e){return r("ns-field",{key:e,attrs:{field:t}})})),1)})),0),t._v(" "),r("div",{staticClass:"px-4 w-full md:w-1/2"},[r("div",{attrs:{id:"tabbed-card"}},[r("div",{staticClass:"flex flex-wrap",attrs:{id:"card-header"}},t._l(t.validTabs,(function(e,s){return r("div",{key:s,staticClass:"cursor-pointer px-4 py-2 rounded-tl-lg rounded-tr-lg",class:e.active?"bg-white":"bg-gray-100",on:{click:function(r){return t.setTabActive(e)}}},[t._v("\n                            "+t._s(e.label)+"\n                        ")])})),0),t._v(" "),r("div",{staticClass:"card-body bg-white rounded-br-lg rounded-bl-lg shadow p-2"},t._l(t.activeValidTab.fields,(function(t,e){return r("div",{key:e,staticClass:"flex flex-col"},[r("ns-field",{attrs:{field:t}})],1)})),0)])])])]:t._e()],2)}),[],!1,null,null,null).exports,x={name:"ns-settings",props:["url"],data:function(){return{validation:new n.a,form:{},test:""}},computed:{formDefined:function(){return Object.values(this.form).length>0},activeTab:function(){for(var t in this.form.tabs)if(!0===this.form.tabs[t].active)return this.form.tabs[t]}},mounted:function(){this.loadSettingsForm()},methods:{submitForm:function(){var t=this;if(0===this.validation.validateForm(this.form).length)return this.validation.disableForm(this.form),o.nsHttpClient.post(this.url,this.validation.extractForm(this.form)).subscribe((function(e){t.validation.enableForm(t.form),t.loadSettingsForm(),e.data&&e.data.results&&e.data.results.forEach((function(t){"failed"===t.status?o.nsSnackBar.error(t.message).subscribe():o.nsSnackBar.success(t.message).subscribe()})),o.nsSnackBar.success(e.message).subscribe()}),(function(e){t.validation.enableForm(t.form),t.validation.triggerFieldsErrors(t.form,e),console.lo(e,t.form),o.nsSnackBar.error(e.message||"No error message provided in case the form is not valid.").subscribe()}));console.log(this.form),o.nsSnackBar.error(this.$slots["error-form-invalid"][0].text||"No error message provided in case the form is not valid.").subscribe()},setActive:function(t){for(var e in this.form.tabs)this.form.tabs[e].active=!1;t.active=!0},loadSettingsForm:function(){var t=this;o.nsHttpClient.get(this.url).subscribe((function(e){var r=0;Object.values(e.tabs).filter((function(t){return t.active})).length;for(var s in e.tabs)t.formDefined?e.tabs[s].active=t.form.tabs[s].active:(e.tabs[s].active=!1,0===r&&(e.tabs[s].active=!0)),r++;t.form=t.validation.createForm(e)}))}}},_=Object(f.a)(x,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.formDefined?r("div",{attrs:{id:"tabbed-card"}},[r("div",{staticClass:"flex flex-wrap",attrs:{id:"card-header"}},t._l(t.form.tabs,(function(e,s){return r("div",{key:s,staticClass:"text-gray-700 cursor-pointer flex items-center px-4 py-2 rounded-tl-lg rounded-tr-lg",class:e.active?"bg-white":"bg-gray-300",on:{click:function(r){return t.setActive(e)}}},[r("span",[t._v(t._s(e.label))]),t._v(" "),e.errors.length>0?r("span",{staticClass:"ml-2 rounded-full bg-red-400 text-white text-sm h-6 w-6 flex items-center justify-center"},[t._v(t._s(e.errors.length))]):t._e()])})),0),t._v(" "),r("div",{staticClass:"card-body bg-white rounded-br-lg rounded-bl-lg shadow"},[r("div",{staticClass:"-mx-4 flex flex-wrap p-2"},t._l(t.activeTab.fields,(function(t,e){return r("div",{key:e,staticClass:"w-full px-4 md:w-1/2 lg:w-1/3"},[r("div",{staticClass:"flex flex-col my-2"},[r("ns-field",{attrs:{field:t}})],1)])})),0),t._v(" "),r("div",{staticClass:"border-t border-gray-400 p-2 flex justify-end"},[r("ns-button",{attrs:{type:"info"},on:{click:function(e){return t.submitForm()}}},[t._t("submit-button",[t._v("Save Settings")])],2)],1)])]):t._e()}),[],!1,null,null,null).exports,g={name:"ns-reset",props:["url"],methods:{submit:function(){if(!this.validation.validateFields(this.fields))return this.$forceUpdate(),o.nsSnackBar.error(this.$slots["error-form-invalid"]?this.$slots["error-form-invalid"][0].text:"Invalid Form").subscribe();var t=this.validation.getValue(this.fields);confirm(this.$slots["confirm-message"]?this.$slots["confirm-message"][0].text:"Would you like to proceed ?")&&o.nsHttpClient.post("/api/nexopos/v4/reset",t).subscribe((function(t){o.nsSnackBar.success(t.message).subscribe()}),(function(t){o.nsSnackBar.error(t.message).subscribe()}))}},data:function(){return{validation:new n.a,fields:[{label:"Choose Option",name:"mode",description:"Will apply various reset method on the system.",type:"select",options:[{label:"Wipe Everything",value:"wipe_all"},{label:"Wipe + Grocery Demo",value:"wipe_plus_grocery"}],validation:"required"}]}}},y=Object(f.a)(g,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"reset-app"}},[t._m(0),t._v(" "),r("div",{staticClass:"card-body bg-white rounded-br-lg rounded-bl-lg shadow"},[r("div",{staticClass:"-mx-4 flex flex-wrap p-2"},t._l(t.fields,(function(t,e){return r("div",{key:e,staticClass:"px-4"},[r("ns-field",{attrs:{field:t}})],1)})),0),t._v(" "),r("div",{staticClass:"card-body border-t border-gray-400 p-2 flex"},[r("div",[r("ns-button",{attrs:{type:"info"},on:{click:function(e){return t.submit()}}},[t._v("Proceed")])],1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex flex-wrap",attrs:{id:"card-header"}},[e("div",{staticClass:"text-gray-700 bg-white cursor-pointer px-4 py-2 rounded-tl-lg rounded-tr-lg"},[this._v("\n            Reset\n        ")])])}],!1,null,null,null).exports,C=r(12),w=r.n(C),k=r(24);function j(t,e,r,s,a,i,n){try{var o=t[i](n),l=o.value}catch(t){return void r(t)}o.done?e(l):Promise.resolve(l).then(s,a)}function S(t){return function(){var e=this,r=arguments;return new Promise((function(s,a){var i=t.apply(e,r);function n(t){j(i,s,a,n,o,"next",t)}function o(t){j(i,s,a,n,o,"throw",t)}n(void 0)}))}}var O,$={name:"ns-modules",props:["url","upload"],data:function(){return{modules:[],total_enabled:0,total_disabled:0}},mounted:function(){this.loadModules().subscribe()},computed:{noModules:function(){return 0===Object.values(this.modules).length},noModuleMessage:function(){return this.$slots["no-modules-message"]?this.$slots["no-modules-message"][0].text:'No message provided for "no-module-message"'}},methods:{download:function(t){document.location="/dashboard/modules/download/"+t.namespace},performMigration:(O=S(w.a.mark((function t(e,r){var s,a,i,n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=function(){var t=S(w.a.mark((function t(r,s){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){o.nsHttpClient.post("/api/nexopos/v4/modules/".concat(e.namespace,"/migrate"),{file:r,version:s}).subscribe((function(e){t(!0)}),(function(t){return o.nsSnackBar.error(t.message,null,{duration:4e3}).subscribe()}))})));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),!(r=r||e.migrations)){t.next=19;break}e.migrating=!0,t.t0=w.a.keys(r);case 5:if((t.t1=t.t0()).done){t.next=17;break}a=t.t1.value,i=0;case 8:if(!(i<r[a].length)){t.next=15;break}return n=r[a][i],t.next=12,s(n,a);case 12:i++,t.next=8;break;case 15:t.next=5;break;case 17:e.migrating=!1,e.migrated=!0;case 19:case"end":return t.stop()}}),t)}))),function(t,e){return O.apply(this,arguments)}),refreshModules:function(){this.loadModules().subscribe()},enableModule:function(t){var e=this,r="".concat(this.url,"/").concat(t.namespace,"/enable");o.nsHttpClient.put(r).subscribe(function(){var r=S(w.a.mark((function r(s){return w.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o.nsSnackBar.success(s.message).subscribe(),e.performMigration(t,s.data.migrations),e.loadModules().subscribe((function(t){document.location.reload()}),(function(t){o.nsSnackBar.error(t.message).subscribe()}));case 3:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}(),(function(t){o.nsSnackBar.error(t.message).subscribe()}))},disableModule:function(t){var e=this,r="".concat(this.url,"/").concat(t.namespace,"/disable");o.nsHttpClient.put(r).subscribe((function(t){o.nsSnackBar.success(t.message).subscribe(),e.loadModules().subscribe((function(t){document.location.reload()}),(function(t){o.nsSnackBar.error(t.message).subscribe()}))}),(function(t){o.nsSnackBar.error(t.message).subscribe()}))},loadModules:function(){var t=this;return o.nsHttpClient.get(this.url).pipe(Object(k.a)((function(e){for(var r in e.modules)e.modules[r].migrating=!1,e.modules[r].migrated=!1;return t.modules=e.modules,t.total_enabled=e.total_enabled,t.total_disabled=e.total_disabled,e})))},removeModule:function(t){var e=this;if(confirm(this.$slots["confirm-delete-module"]?this.$slots["confirm-delete-module"][0].text:'No text was provided for "confirm-delete-module" message.')){var r="".concat(this.url,"/").concat(t.namespace,"/delete");o.nsHttpClient.delete(r).subscribe((function(t){e.loadModules().subscribe((function(t){document.location.reload()}))}),(function(t){o.nsSnackBar.error(t.message,null,{duration:5e3}).subscribe()}))}}}},P=Object(f.a)($,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex-auto flex flex-col pb-4",attrs:{id:"module-wrapper"}},[r("div",{staticClass:"flex justify-between items-center"},[r("div",{staticClass:"flex justify-between items-center -mx-2"},[r("span",{staticClass:"px-2"},[r("a",{staticClass:"items-center justify-center rounded cursor-pointer text-gray-600 bg-white shadow flex px-3 py-1 hover:bg-blue-400 hover:text-white",on:{click:function(e){return t.refreshModules()}}},[r("i",{staticClass:"las la-sync"}),t._v(" "),r("span",{staticClass:"mx-2"},[t._v("Refresh")])])]),t._v(" "),r("span",{staticClass:"px-2"},[r("a",{staticClass:"flex items-center justify-center rounded cursor-pointer text-gray-600 bg-white shadow px-3 py-1 hover:bg-blue-400 hover:text-white",attrs:{href:t.upload}},[r("span",[t._v("Upload")]),t._v(" "),r("i",{staticClass:"las la-angle-right"})])])]),t._v(" "),r("div",{staticClass:"header-tabs flex -mx-4 flex-wrap"},[r("div",{staticClass:"px-4 text-xs text-blue-500 font-semibold hover:underline"},[r("a",{attrs:{href:"#"}},[t._v(t._s(t.$slots.enabled?t.$slots.enabled[0].text:"Enabled")+"("+t._s(t.total_enabled)+")")])]),t._v(" "),r("div",{staticClass:"px-4 text-xs text-blue-500 font-semibold hover:underline"},[r("a",{attrs:{href:"#"}},[t._v(t._s(t.$slots.disabled?t.$slots.disabled[0].text:"Disabled")+" ("+t._s(t.total_disabled)+")")])])])]),t._v(" "),r("div",{staticClass:"module-section flex-auto flex flex-wrap -mx-4"},[t.noModules?r("div",{staticClass:"p-4 flex-auto flex"},[r("div",{staticClass:"flex h-full flex-auto border-dashed border-2 border-gray-600 bg-white justify-center items-center"},[r("h2",{staticClass:"font-bold text-xl text-gray-700"},[t._v(t._s(t.noModuleMessage))])])]):t._e(),t._v(" "),t._l(t.modules,(function(e,s){return r("div",{key:s,staticClass:"px-4 w-full md:w-1/2 lg:w-1/3 py-4"},[r("div",{staticClass:"rounded shadow overflow-hidden"},[r("div",{staticClass:"module-head h-40 p-2 bg-white"},[r("h3",{staticClass:"font-semibold text-lg text-gray-700"},[t._v(t._s(e.name))]),t._v(" "),r("p",{staticClass:"text-gray-600 text-xs flex justify-between"},[r("span",[t._v(t._s(e.author))]),t._v(" "),r("strong",[t._v("v"+t._s(e.version))])]),t._v(" "),r("p",{staticClass:"py-2 text-gray-700 text-sm"},[t._v(t._s(e.description))])]),t._v(" "),r("div",{staticClass:"footer bg-gray-200 p-2 flex justify-between"},[e.enabled?t._e():r("ns-button",{attrs:{type:"info"},on:{click:function(r){return t.enableModule(e)}}},[t._v("Enable")]),t._v(" "),e.enabled?r("ns-button",{attrs:{type:"success"},on:{click:function(r){return t.disableModule(e)}}},[t._v("Disable")]):t._e(),t._v(" "),r("div",{staticClass:"flex -mx-1"},[r("div",{staticClass:"px-1"},[Object.values(e.migrations).length>0&&!e.migrating&&!e.migrated?r("ns-button",{on:{click:function(r){return t.performMigration(e)}}},[r("i",{staticClass:"las la-sync text-xl"})]):t._e(),t._v(" "),e.migrating?r("ns-button",{attrs:{disabled:""}},[r("i",{staticClass:"las la-sync text-xl animate-spin"})]):t._e(),t._v(" "),e.migrated?r("ns-button",{attrs:{disabled:"",type:"success"}},[r("i",{staticClass:"las la-check text-xl"})]):t._e()],1),t._v(" "),r("div",{staticClass:"px-1 flex -mx-1"},[r("div",{staticClass:"px-1 flex"},[r("ns-button",{attrs:{type:"info"},on:{click:function(r){return t.download(e)}}},[r("i",{staticClass:"las la-archive"})])],1),t._v(" "),r("div",{staticClass:"px-1 flex"},[r("ns-button",{attrs:{type:"danger"},on:{click:function(r){return t.removeModule(e)}}},[r("i",{staticClass:"las la-trash"})])],1)])])],1)])])}))],2)])}),[],!1,null,null,null).exports,D=r(222),T={name:"ns-permissions",data:function(){return{permissions:[],roles:[]}},mounted:function(){this.loadPermissionsAndRoles()},methods:{selectAllPermissions:function(t){var e=new Object;if(e[t.namespace]=new Object,!t.locked||t.locked&&confirm(this.$slots["bulk-edit-system-role"]?this.$slots["bulk-edit-system-role"][0].text:'No message has been provided for "bulk-edit-system-role"')){for(var r in t.fields)t.fields[r].value=t.field.value,e[t.namespace][r]=t.field.value;o.nsHttpClient.put("/api/nexopos/v4/users/roles",e).subscribe((function(t){o.nsSnackBar.success(t.message,null,{duration:3e3}).subscribe()}))}else t.field.value=!t.field.value},submitPermissions:function(t,e){var r=new Object;r[t.namespace]=new Object,r[t.namespace][e.name]=e.value,o.nsHttpClient.put("/api/nexopos/v4/users/roles",r).subscribe((function(t){o.nsSnackBar.success(t.message,null,{duration:3e3}).subscribe()}))},loadPermissionsAndRoles:function(){var t=this;return Object(D.a)(o.nsHttpClient.get("/api/nexopos/v4/users/roles"),o.nsHttpClient.get("/api/nexopos/v4/users/permissions")).subscribe((function(e){t.permissions=e[1],t.roles=e[0].map((function(e){return e.fields={},e.field={type:"checkbox",name:e.namespace,value:!1},t.permissions.forEach((function(t){e.fields[t.namespace]={type:"checkbox",value:e.permissions.filter((function(e){return e.namespace===t.namespace})).length>0,name:t.namespace,label:null}})),e}))}))}}},F=Object(f.a)(T,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"permission-wrapper"}},[r("div",{staticClass:"rounded shadow bg-white flex"},[r("div",{staticClass:"w- bg-gray-800 flex-shrink-0",attrs:{id:"permissions"}},[r("div",{staticClass:"py-4 px-2 border-b border-gray-700 text-gray-100"},[t._v("Permissions")]),t._v(" "),t._l(t.permissions,(function(e){return r("div",{key:e.id,staticClass:"p-2 border-b border-gray-700 text-gray-100"},[r("a",{attrs:{href:"javascript:void(0)",title:e.namespace}},[t._v(t._s(e.name))])])}))],2),t._v(" "),r("div",{staticClass:"flex flex-auto overflow-hidden"},[r("div",{staticClass:"overflow-y-auto"},[r("div",{staticClass:"border-b border-gray-200 text-gray-700 flex"},t._l(t.roles,(function(e){return r("div",{key:e.id,staticClass:"py-4 px-2 items-center justify-center flex role w-56 flex-shrink-0 border-r border-gray-200"},[r("p",{staticClass:"mx-1"},[r("span",[t._v(t._s(e.name))])]),t._v(" "),r("span",{staticClass:"mx-1"},[r("ns-checkbox",{attrs:{field:e.field},on:{change:function(r){return t.selectAllPermissions(e)}}})],1)])})),0),t._v(" "),t._l(t.permissions,(function(e){return r("div",{key:e.id,staticClass:"permission flex border-b border-gray-200"},t._l(t.roles,(function(s){return r("div",{key:s.id,staticClass:"w-56 flex-shrink-0 p-2 flex items-center justify-center border-r"},[r("ns-checkbox",{attrs:{field:s.fields[e.namespace]},on:{change:function(r){return t.submitPermissions(s,s.fields[e.namespace])}}})],1)})),0)}))],2)])])])}),[],!1,null,null,null).exports,E=r(11);function V(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function B(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?V(Object(r),!0).forEach((function(e){N(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function N(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var A={data:function(){return{formValidation:new n.a,nsSnackBar:o.nsSnackBar,nsHttpClient:o.nsHttpClient,_sampleVariation:null,form:""}},computed:{defaultVariation:function(){var t=new Object;for(var e in this._sampleVariation.tabs)t[e]=new Object,t[e].label=this._sampleVariation.tabs[e].label,t[e].active=this._sampleVariation.tabs[e].active,t[e].fields=this._sampleVariation.tabs[e].fields.filter((function(t){return console.log(t),!["category_id","product_type","stock_management","expires"].includes(t.name)})).map((function(t){return t.value="",t}));return{id:"",tabs:t}}},props:["submit-method","submit-url","return-url","src","units-url"],methods:{getUnitQuantity:function(t){var e=t.filter((function(t){return"quantity"===t.name})).map((function(t){return t.value}));return e.length>0?e[0]:0},removeUnitPriceGroup:function(t,e){var r=this,s=t.filter((function(t){return"id"===t.name}));Popup.show(E.default,{title:"Confirm Your Action",message:"Would you like to delete this group ?",onAction:function(a){if(a)if(s.length>0)r.confirmUnitQuantityDeletion({group_fields:t,group:e});else{var i=e.indexOf(t);e.splice(i,1)}}})},confirmUnitQuantityDeletion:function(t){var e=t.group_fields,r=t.group;Popup.show(E.default,{title:"Your Attention Is Required",size:"w-3/4-screen h-2/5-screen",message:"The current unit you're about to delete has a reference on the database and it might have already procured stock. Deleting that reference will remove procured stock. Would you proceed ?",onAction:function(t){if(t){var s=e.filter((function(t){return"id"===t.name})).map((function(t){return t.value}))[0];o.nsHttpClient.delete("/api/nexopos/v4/products/units/quantity/".concat(s)).subscribe((function(t){var s=r.indexOf(e);r.splice(s,1),o.nsSnackBar.success(t.message).subscribe()}))}}})},addUnitGroup:function(t){if(0===t.options.length)return o.nsSnackBar.error("Please select at least one unit group before you proceed.").subscribe();t.options.length>t.groups.length?t.groups.push(JSON.parse(JSON.stringify(t.fields))):o.nsSnackBar.error("There shoulnd't be more option than there are units.").subscribe()},loadAvailableUnits:function(t){var e=this;o.nsHttpClient.get(this.unitsUrl.replace("{id}",t.fields[0].value)).subscribe((function(r){t.fields.forEach((function(t){"group"===t.type&&(t.options=r,t.fields.forEach((function(t){"unit_id"===t.name&&(console.log(t),t.options=r.map((function(t){return{label:t.name,value:t.id}})))})))})),e.$forceUpdate()}))},loadOptionsFor:function(t,e,r){var s=this;o.nsHttpClient.get(this.unitsUrl.replace("{id}",e)).subscribe((function(e){s.form.variations[r].tabs.units.fields.forEach((function(r){r.name===t&&(r.options=e.map((function(t){return{label:t.name,value:t.id,selected:!1}})))})),s.$forceUpdate()}))},submit:function(){var t=this;if(this.formValidation.validateFields([this.form.main]),this.form.variations.map((function(e){return t.formValidation.validateForm(e)})).filter((function(t){return t.length>0})).length>0||Object.values(this.form.main.errors).length>0)return o.nsSnackBar.error(this.$slots["error-form-invalid"]?this.$slots["error-form-invalid"][0].text:'No error has been provided for the slot "error-form-invalid"').subscribe();var e=this.form.variations.map((function(t,e){return t.tabs.images.groups.filter((function(t){return t.filter((function(t){return"primary"===t.name&&1===t.value})).length>0}))}));if(e[0]&&e[0].length>1)return o.nsSnackBar.error(this.$slots["error-multiple-primary"]?this.$slots["error-multiple-primary"][0].text:'No error has been provided for the slot "error-multiple-primary"').subscribe();var r=[];if(this.form.variations.map((function(e,s){return e.tabs.units.fields.filter((function(t){return"group"===t.type})).forEach((function(e){new Object;e.groups.forEach((function(e){r.push(t.formValidation.validateFields(e))}))}))})),0===r.length)return o.nsSnackBar.error(this.$slots["error-no-units-groups"]?this.$slots["error-no-units-groups"][0].text:"Either Selling or Purchase unit isn't defined. Unable to proceed.").subscribe();if(r.filter((function(t){return!1===t})).length>0)return this.$forceUpdate(),o.nsSnackBar.error(this.$slots["error-invalid-unit-group"]?this.$slots["error-invalid-unit-group"][0].text:"Unable to proceed as one of the unit group field is invalid").subscribe();var s=B(B({},this.formValidation.extractForm(this.form)),{},{variations:this.form.variations.map((function(e,r){var s=t.formValidation.extractForm(e);0===r&&(s.$primary=!0),s.images=e.tabs.images.groups.map((function(e){return t.formValidation.extractFields(e)}));var a=new Object;return e.tabs.units.fields.filter((function(t){return"group"===t.type})).forEach((function(e){a[e.name]=e.groups.map((function(e){return t.formValidation.extractFields(e)}))})),s.units=B(B({},s.units),a),s}))});console.log(s),o.nsHttpClient[this.submitMethod?this.submitMethod.toLowerCase():"post"](this.submitUrl,s).subscribe((function(e){if("success"===e.status){if(!1!==t.returnUrl)return document.location=t.returnUrl;t.$emit("save")}t.formValidation.enableForm(t.form)}),(function(e){o.nsSnackBar.error(e.message,void 0,{duration:5e3}).subscribe(),t.formValidation.triggerError(t.form,e.response.data),t.formValidation.enableForm(t.form)}))},deleteVariation:function(t){confirm(this.$slots["delete-variation"]?this.$slots["delete-variation"][0].text:'No error message provided with code "delete-variation"')&&this.form.variations.splice(t,1)},setTabActive:function(t,e){for(var r in e)r!==t&&(e[r].active=!1);e[t].active=!0,"units"===t&&this.loadAvailableUnits(e[t])},duplicate:function(t){this.form.variations.push(Object.assign({},t))},newVariation:function(){this.form.variations.push(this.defaultVariation)},getActiveTab:function(t){for(var e in t)if(t[e].active)return t[e];return!1},getActiveTabKey:function(t){for(var e in t)if(t[e].active)return e;return!1},parseForm:function(t){var e=this;return t.main.value=void 0===t.main.value?"":t.main.value,t.main=this.formValidation.createFields([t.main])[0],t.variations.forEach((function(t,r){var s=0;for(var a in t.tabs)0===s&&void 0===t.tabs[a].active?(t.tabs[a].active=!0,e._sampleVariation=Object.assign({},t),t.tabs[a].fields&&(t.tabs[a].fields=e.formValidation.createFields(t.tabs[a].fields.filter((function(t){return"name"!==t.name}))))):t.tabs[a].fields&&(t.tabs[a].fields=e.formValidation.createFields(t.tabs[a].fields)),t.tabs[a].active=void 0!==t.tabs[a].active&&t.tabs[a].active,s++})),t},loadForm:function(){var t=this;o.nsHttpClient.get("".concat(this.src)).subscribe((function(e){t.form=t.parseForm(e.form)}))},addImage:function(t){t.tabs.images.groups.push(this.formValidation.createFields(JSON.parse(JSON.stringify(t.tabs.images.fields))))}},mounted:function(){this.loadForm()},name:"ns-manage-products"},U=Object(f.a)(A,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form flex-auto",attrs:{id:"crud-form"}},[0===Object.values(t.form).length?r("div",{staticClass:"flex items-center h-full justify-center flex-auto"},[r("ns-spinner")],1):t._e(),t._v(" "),Object.values(t.form).length>0?[r("div",{staticClass:"flex flex-col"},[r("div",{staticClass:"flex justify-between items-center"},[r("label",{staticClass:"font-bold my-2 text-gray-700",attrs:{for:"title"}},[t._v(t._s(t.form.main.label))]),t._v(" "),r("div",{staticClass:"text-sm my-2 text-gray-700",attrs:{for:"title"}},[t.returnUrl?r("a",{staticClass:"rounded-full border border-gray-400 hover:bg-red-600 hover:text-white bg-white px-2 py-1",attrs:{href:t.returnUrl}},[t._v("Return")]):t._e()])]),t._v(" "),r("div",{staticClass:"flex border-2 rounded overflow-hidden",class:t.form.main.disabled?"border-gray-500":t.form.main.errors.length>0?"border-red-600":"border-blue-500"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.main.value,expression:"form.main.value"}],staticClass:"flex-auto text-gray-700 outline-none h-10 px-2",class:t.form.main.disabled?"bg-gray-400":"",attrs:{disabled:t.form.main.disabled,type:"text"},domProps:{value:t.form.main.value},on:{blur:function(e){return t.formValidation.checkField(t.form.main)},change:function(e){return t.formValidation.checkField(t.form.main)},input:function(e){e.target.composing||t.$set(t.form.main,"value",e.target.value)}}}),t._v(" "),r("button",{staticClass:"outline-none px-4 h-10 text-white border-l border-gray-400",class:t.form.main.disabled?"bg-gray-500":t.form.main.errors.length>0?"bg-red-500":"bg-blue-500",attrs:{disabled:t.form.main.disabled},on:{click:function(e){return t.submit()}}},[t._t("save",[t._v("Save")])],2)]),t._v(" "),t.form.main.description&&0===t.form.main.errors.length?r("p",{staticClass:"text-xs text-gray-600 py-1"},[t._v(t._s(t.form.main.description))]):t._e(),t._v(" "),t._l(t.form.main.errors,(function(e,s){return r("p",{key:s,staticClass:"text-xs py-1 text-red-500"},[r("span",[t._t("error-required",[t._v(t._s(e.identifier))])],2)])}))],2),t._v(" "),r("div",{staticClass:"-mx-4 flex flex-wrap mt-4",attrs:{id:"form-container"}},[r("div",{staticClass:"px-4 w-full"},t._l(t.form.variations,(function(e,s){return r("div",{key:s,staticClass:"mb-8",attrs:{id:"tabbed-card"}},[r("div",{staticClass:"flex flex-wrap justify-between",attrs:{id:"card-header"}},[r("div",{staticClass:"flex flex-wrap"},t._l(e.tabs,(function(s,a){return r("div",{key:a,staticClass:"cursor-pointer text-gray-700 px-4 py-2 rounded-tl-lg rounded-tr-lg flex justify-between",class:s.active?"bg-white":"bg-gray-100",on:{click:function(r){return t.setTabActive(a,e.tabs)}}},[r("span",{staticClass:"block mr-2"},[t._v(t._s(s.label))]),t._v(" "),s.errors&&s.errors.length>0?r("span",{staticClass:"rounded-full bg-red-400 text-white h-6 w-6 flex font-semibold items-center justify-center"},[t._v(t._s(s.errors.length))]):t._e()])})),0),t._v(" "),r("div",{staticClass:"flex items-center justify-center -mx-1"})]),t._v(" "),r("div",{staticClass:"card-body bg-white rounded-br-lg rounded-bl-lg shadow p-2"},[["images","units"].includes(t.getActiveTabKey(e.tabs))?t._e():r("div",{staticClass:"-mx-4 flex flex-wrap"},[t._l(t.getActiveTab(e.tabs).fields,(function(t,e){return[r("div",{key:e,staticClass:"flex flex-col px-4 w-full md:w-1/2 lg:w-1/3"},[r("ns-field",{attrs:{field:t}})],1)]}))],2),t._v(" "),"images"===t.getActiveTabKey(e.tabs)?r("div",{staticClass:"-mx-4 flex flex-wrap"},[r("div",{staticClass:"flex flex-col px-4 w-full md:w-1/2 lg:w-1/3"},[r("div",{staticClass:"rounded border flex bg-white justify-between p-2 items-center"},[r("span",[t._v("Add Images")]),t._v(" "),r("button",{staticClass:"rounded-full border flex items-center justify-center w-8 h-8 bg-white hover:bg-blue-400 hover:text-white",on:{click:function(r){return t.addImage(e)}}},[r("i",{staticClass:"las la-plus-circle"})])])]),t._v(" "),t._l(t.getActiveTab(e.tabs).groups,(function(e,s){return r("div",{key:s,staticClass:"flex flex-col px-4 w-full md:w-1/2 lg:w-1/3 mb-4"},[r("div",{staticClass:"rounded border flex flex-col bg-white p-2"},t._l(e,(function(t,e){return r("ns-field",{key:e,attrs:{field:t}})})),1)])}))],2):t._e(),t._v(" "),"units"===t.getActiveTabKey(e.tabs)?r("div",{staticClass:"-mx-4 flex flex-wrap"},[r("div",{staticClass:"px-4 w-full md:w-1/2 lg:w-1/3"},[r("ns-field",{attrs:{field:t.getActiveTab(e.tabs).fields[0]},on:{change:function(r){t.loadAvailableUnits(t.getActiveTab(e.tabs))}}})],1),t._v(" "),t._l(t.getActiveTab(e.tabs).fields,(function(e,s){return["group"===e.type?r("div",{key:s,staticClass:"px-4 w-full lg:w-2/3"},[r("div",{staticClass:"mb-2"},[r("label",{staticClass:"font-medium text-gray-700"},[t._v(t._s(e.label))]),t._v(" "),r("p",{staticClass:"py-1 text-sm text-gray-600"},[t._v(t._s(e.description))])]),t._v(" "),r("div",{staticClass:"mb-2"},[r("div",{staticClass:"border-dashed border-2 border-gray-200 p-1 bg-gray-100 flex justify-between items-center text-gray-700 cursor-pointer rounded-lg",on:{click:function(r){return t.addUnitGroup(e)}}},[t._m(0,!0),t._v(" "),r("span",[t._v("New Group")])])]),t._v(" "),r("div",{staticClass:"-mx-4 flex flex-wrap"},t._l(e.groups,(function(s,a){return r("div",{key:a,staticClass:"px-4 w-full md:w-1/2 mb-4"},[r("div",{staticClass:"shadow rounded overflow-hidden"},[r("div",{staticClass:"border-b text-sm bg-blue-400 text-white  border-blue-300 p-2 flex justify-between"},[r("span",[t._v("Available Quantity")]),t._v(" "),r("span",[t._v(t._s(t.getUnitQuantity(s)))])]),t._v(" "),r("div",{staticClass:"p-2 mb-2"},t._l(s,(function(t,e){return r("ns-field",{key:e,attrs:{field:t}})})),1),t._v(" "),r("div",{staticClass:"p-1 text-red-800 hover:bg-red-200 border-t border-red-200 flex items-center justify-center cursor-pointer font-medium",on:{click:function(r){return t.removeUnitPriceGroup(s,e.groups)}}},[t._v("\n                                                    Delete\n                                                ")])])])})),0)]):t._e()]}))],2):t._e()])])})),0)])]:t._e()],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"rounded-full border-2 border-gray-300 bg-white h-8 w-8 flex items-center justify-center"},[e("i",{staticClass:"las la-plus-circle"})])}],!1,null,null,null).exports,M=function(){function t(){}return t.compute=function(e,r,s){switch(e){case"inclusive":return t.computeInclusive(r,s);case"exclusive":return t.computeExclusive(r,s)}},t.computeInclusive=function(t,e){return t/(e+100)*100},t.computeExclusive=function(t,e){return t/100*(e+100)},t.getTaxValue=function(e,r,s){switch(e){case"inclusive":return r-t.compute(e,r,s);case"exclusive":return t.compute(e,r,s)-r}return 0},t}(),R={name:"ns-procurement-product-options",data:function(){return{validation:new n.a,fields:[],rawFields:[{label:"Expiration Date",name:"expiration",description:"Define when that specific product should expire.",type:"date"},{label:"Tax Type",name:"tax_type",description:"Adjust how tax is calculated on the item.",type:"select",options:[{label:"Inclusive",value:"inclusive"},{label:"Exclusive",value:"exclusive"}]}]}},methods:{applyChanges:function(){if(this.validation.validateFields(this.fields)){var t=this.validation.extractFields(this.fields);return this.$popupParams.resolve(t),this.$popup.close()}return o.nsSnackBar.error("Unable to proceed. The form is not valid.").subscribe()}},mounted:function(){var t=this;this.$popup.event.subscribe((function(e){"click-overlay"===e.event&&t.$popup.close()}));var e=this.rawFields.map((function(e){return"expiration"===e.name&&(e.value=t.$popupParams.product.procurement.expiration),"tax_type"===e.name&&(e.value=t.$popupParams.product.procurement.tax_type),e}));this.fields=this.validation.createFields(e)}},H=Object(f.a)(R,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bg-white shadow-lg w-6/7-screen md:w-5/7-screen lg:w-3/7-screen"},[t._m(0),t._v(" "),r("div",{staticClass:"p-2 border-b border-gray-200"},t._l(t.fields,(function(t,e){return r("ns-field",{key:e,staticClass:"w-full",attrs:{field:t}})})),1),t._v(" "),r("div",{staticClass:"p-2 flex justify-end"},[r("ns-button",{attrs:{type:"info"},on:{click:function(e){return t.applyChanges()}}},[t._v("Save")])],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"p-2 border-b border-gray-200"},[e("h5",{staticClass:"font-semibold"},[this._v("Options")])])}],!1,null,null,null).exports;function I(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function q(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?I(Object(r),!0).forEach((function(e){L(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function L(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var W={name:"ns-procurement",mounted:function(){this.reloadEntities()},computed:{activeTab:function(){return this.validTabs.filter((function(t){return t.active})).length>0&&this.validTabs.filter((function(t){return t.active}))[0]}},data:function(){return{totalTaxValues:0,totalPurchasePrice:0,formValidation:new n.a,form:{},nsSnackBar:o.nsSnackBar,fields:[],searchResult:[],searchValue:"",debounceSearch:null,nsHttpClient:o.nsHttpClient,taxes:[],validTabs:[{label:"Details",identifier:"details",active:!0},{label:"Products",identifier:"products",active:!1}],reloading:!1}},watch:{searchValue:function(t){var e=this;t&&(clearTimeout(this.debounceSearch),this.debounceSearch=setTimeout((function(){e.doSearch(t)}),500))}},components:{NsManageProducts:U},props:["submit-method","submit-url","return-url","src","rules"],methods:{computeTotal:function(){this.totalTaxValues=0,this.form.products.length>0&&(this.totalTaxValues=this.form.products.map((function(t){return t.procurement.tax_value})).reduce((function(t,e){return t+e}))),this.totalPurchasePrice=0,this.form.products.length>0&&(this.totalPurchasePrice=this.form.products.map((function(t){return parseFloat(t.procurement.total_purchase_price)})).reduce((function(t,e){return t+e})))},updateLine:function(t){var e=this.form.products[t],r=this.taxes.filter((function(t){return t.id===e.procurement.tax_group_id}));if(parseFloat(e.procurement.purchase_price_edit)>0&&parseFloat(e.procurement.quantity)>0){if(r.length>0){var s=r[0].taxes.map((function(t){return M.getTaxValue(e.procurement.tax_type,e.procurement.purchase_price_edit,parseFloat(t.rate))}));e.procurement.tax_value=s.reduce((function(t,e){return t+e})),"inclusive"===e.procurement.tax_type?(e.procurement.net_purchase_price=parseFloat(e.procurement.purchase_price_edit)-e.procurement.tax_value,e.procurement.gross_purchase_price=parseFloat(e.procurement.purchase_price_edit),e.procurement.purchase_price=parseFloat(e.procurement.gross_purchase_price)):(e.procurement.gross_purchase_price=parseFloat(e.procurement.purchase_price_edit)+e.procurement.tax_value,e.procurement.net_purchase_price=parseFloat(e.procurement.purchase_price_edit),e.procurement.purchase_price=parseFloat(e.procurement.gross_purchase_price))}else e.procurement.gross_purchase_price=parseFloat(e.procurement.purchase_price_edit),e.procurement.purchase_price=parseFloat(e.procurement.purchase_price_edit),e.procurement.net_purchase_price=parseFloat(e.procurement.purchase_price_edit),e.procurement.tax_value=0;e.procurement.tax_value=e.procurement.tax_value*parseFloat(e.procurement.quantity),e.procurement.total_purchase_price=e.procurement.purchase_price*parseFloat(e.procurement.quantity)}this.computeTotal(),this.$forceUpdate()},switchTaxType:function(t,e){t.procurement.tax_type="inclusive"===t.procurement.tax_type?"exclusive":"inclusive",this.updateLine(e)},doSearch:function(t){var e=this;o.nsHttpClient.post("/api/nexopos/v4/products/search",{search:t}).subscribe((function(t){1===t.length?e.addProductList(t[0]):e.searchResult=t}))},reloadEntities:function(){var t=this;this.reloading=!0,Object(D.a)([o.nsHttpClient.get("/api/nexopos/v4/categories"),o.nsHttpClient.get("/api/nexopos/v4/products"),o.nsHttpClient.get(this.src),o.nsHttpClient.get("/api/nexopos/v4/taxes/groups")]).subscribe((function(e){t.reloading=!1,t.categories=e[0],t.products=e[1],t.taxes=e[3],t.form.general&&e[2].tabs.general.fieds.forEach((function(e,r){e.value=t.form.tabs.general.fields[r].value||""})),console.log(e[2]),t.form=Object.assign(t.form,e[2]),t.form=t.formValidation.createForm(t.form),void 0===t.form.products?t.form.products=[]:(t.form.products=t.form.products.map((function(t){return["gross_purchase_price","purchase_price_edit","tax_value","net_purchase_price","purchase_price","total_price","total_purchase_price","quantity","tax_group_id"].forEach((function(e){void 0===t[e]&&(t[e]=0)})),t.$invalid=t.$invalid||!1,t.purchase_price_edit=t.purchase_price,{name:t.name,purchase_units:t.purchase_units,procurement:t,unit_quantities:t.unit_quantities||[]}})),console.log(t.form.products)),t.$forceUpdate()}))},setTabActive:function(t){this.validTabs.forEach((function(t){return t.active=!1})),this.$forceUpdate(),this.$nextTick().then((function(){t.active=!0}))},addProductList:function(t){if(void 0===t.unit_quantities)return o.nsSnackBar.error("Unable to add product which doesn't unit quantities defined.").subscribe();t.procurement=new Object,t.procurement.gross_purchase_price=0,t.procurement.purchase_price_edit=0,t.procurement.tax_value=0,t.procurement.net_purchase_price=0,t.procurement.purchase_price=0,t.procurement.total_price=0,t.procurement.total_purchase_price=0,t.procurement.quantity=1,t.procurement.expiration=null,t.procurement.tax_group_id=0,t.procurement.tax_type="inclusive",t.procurement.unit_id=0,t.procurement.product_id=t.id,t.procurement.procurement_id=null,t.procurement.$invalid=!1,this.searchResult=[],this.searchValue="",this.form.products.push(t)},submit:function(){var t=this;if(0===this.form.products.length)return o.nsSnackBar.error(this.$slots["error-no-products"]?this.$slots["error-no-products"][0].text:'No error message provided on the slot "error-no-products".',this.$slots.okay?this.$slots.okay[0].text:"OK").subscribe();if(this.form.products.forEach((function(t){!parseFloat(t.procurement.quantity)>=1||0===t.unit_id?t.procurement.$invalid=!0:t.procurement.$invalid=!1})),this.form.products.filter((function(t){return t.procurement.$invalid})).length>0)return o.nsSnackBar.error(this.$slots["error-invalid-products"]?this.$slots["error-invalid-products"][0].text:'No error message provided on the slot "error-invalid-products".',this.$slots.okay?this.$slots.okay[0].text:"OK").subscribe();if(this.formValidation.validateForm(this.form).length>0)return this.setTabActive(this.activeTab),o.nsSnackBar.error(this.$slots["error-invalid-form"]?this.$slots["error-invalid-form"][0].text:"No error message provided for having an invalid form.",this.$slots.okay?this.$slots.okay[0].text:"OK").subscribe();if(void 0===this.submitUrl)return o.nsSnackBar.error(this.$slots["error-no-submit-url"]?this.$slots["error-no-submit-url"][0].text:"No error message provided for not having a valid submit url.",this.$slots.okay?this.$slots.okay[0].text:"OK").subscribe();this.formValidation.disableForm(this.form);var e=q(q({},this.formValidation.extractForm(this.form)),{products:this.form.products.map((function(t){return t.procurement}))});o.nsHttpClient[this.submitMethod?this.submitMethod.toLowerCase():"post"](this.submitUrl,e).subscribe((function(e){if("success"===e.status)return document.location=t.returnUrl;t.formValidation.enableForm(t.form)}),(function(e){o.nsSnackBar.error(e.message,void 0,{duration:5e3}).subscribe(),t.formValidation.enableForm(t.form),e.errors&&t.formValidation.triggerError(t.form,e.errors)}))},deleteProduct:function(t){this.form.products.splice(t,1),this.$forceUpdate()},handleGlobalChange:function(t){this.globallyChecked=t,this.rows.forEach((function(e){return e.$checked=t}))},setProductOptions:function(t){var e=this;new Promise((function(r,s){Popup.show(H,{product:e.form.products[t],resolve:r,reject:s})})).then((function(r){for(var s in r)e.form.products[t].procurement[s]=r[s];e.updateLine(t)}))}}},K=Object(f.a)(W,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form flex-auto flex flex-col",attrs:{id:"crud-form"}},[t.form.main?[r("div",{staticClass:"flex flex-col"},[r("div",{staticClass:"flex justify-between items-center"},[r("label",{staticClass:"font-bold my-2 text-gray-700",attrs:{for:"title"}},[t._t("title",[t._v("No title Provided")])],2),t._v(" "),r("div",{staticClass:"text-sm my-2 text-gray-700",attrs:{for:"title"}},[t.returnUrl?r("a",{staticClass:"rounded-full border border-gray-400 hover:bg-red-600 hover:text-white bg-white px-2 py-1",attrs:{href:t.returnUrl}},[t._v("Return")]):t._e()])]),t._v(" "),r("div",{staticClass:"flex border-2 rounded overflow-hidden",class:t.form.main.disabled?"border-gray-500":t.form.main.errors.length>0?"border-red-600":"border-blue-500"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.main.value,expression:"form.main.value"}],staticClass:"flex-auto text-gray-700 outline-none h-10 px-2",class:t.form.main.disabled?"bg-gray-400":"",attrs:{disabled:t.form.main.disabled,type:"text"},domProps:{value:t.form.main.value},on:{blur:function(e){return t.formValidation.checkField(t.form.main)},change:function(e){return t.formValidation.checkField(t.form.main)},input:function(e){e.target.composing||t.$set(t.form.main,"value",e.target.value)}}}),t._v(" "),r("button",{staticClass:"outline-none px-4 h-10 text-white border-l border-gray-400",class:t.form.main.disabled?"bg-gray-500":t.form.main.errors.length>0?"bg-red-500":"bg-blue-500",attrs:{disabled:t.form.main.disabled},on:{click:function(e){return t.submit()}}},[t._t("save",[t._v("Save")])],2),t._v(" "),r("button",{staticClass:"bg-white text-gray-700 outline-none px-4 h-10 border-gray-400",on:{click:function(e){return t.reloadEntities()}}},[r("i",{staticClass:"las la-sync",class:t.reloading?"animate animate-spin":""})])]),t._v(" "),t.form.main.description&&0===t.form.main.errors.length?r("p",{staticClass:"text-xs text-gray-600 py-1"},[t._v(t._s(t.form.main.description))]):t._e(),t._v(" "),t._l(t.form.main.errors,(function(e,s){return r("p",{key:s,staticClass:"text-xs py-1 text-red-500"},[r("span",[t._t("error-required",[t._v(t._s(e.identifier))])],2)])}))],2),t._v(" "),r("div",{staticClass:"-mx-4 flex flex-wrap mt-4",attrs:{id:"form-container"}},[r("div",{staticClass:"px-4 w-full"},[r("div",{attrs:{id:"tabbed-card"}},[r("div",{staticClass:"flex flex-wrap",attrs:{id:"card-header"}},t._l(t.validTabs,(function(e,s){return r("div",{key:s,staticClass:"cursor-pointer px-4 py-2 rounded-tl-lg rounded-tr-lg text-gray-700",class:e.active?"bg-white":"bg-gray-100",on:{click:function(r){return t.setTabActive(e)}}},[t._v("\n                            "+t._s(e.label)+"\n                        ")])})),0),t._v(" "),"details"===t.activeTab.identifier?r("div",{staticClass:"card-body bg-white rounded-br-lg rounded-bl-lg shadow p-2"},[t.form.tabs?r("div",{staticClass:"-mx-4 flex flex-wrap"},t._l(t.form.tabs.general.fields,(function(t,e){return r("div",{key:e,staticClass:"flex px-4 w-full md:w-1/2 lg:w-1/3"},[r("ns-field",{attrs:{field:t}})],1)})),0):t._e()]):t._e(),t._v(" "),"products"===t.activeTab.identifier?r("div",{staticClass:"card-body bg-white rounded-br-lg rounded-bl-lg shadow p-2 "},[r("div",{staticClass:"mb-2"},[r("div",{staticClass:"border-blue-500 flex border-2 rounded overflow-hidden"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"flex-auto text-gray-700 outline-none h-10 px-2",attrs:{type:"text",placeholder:t.$slots["search-placeholder"]?t.$slots["search-placeholder"][0].text:"SKU, Barcode, Name"},domProps:{value:t.searchValue},on:{input:function(e){e.target.composing||(t.searchValue=e.target.value)}}})]),t._v(" "),r("div",{staticClass:"h-0"},[r("div",{staticClass:"shadow bg-white relative z-10"},t._l(t.searchResult,(function(e,s){return r("div",{key:s,staticClass:"cursor-pointer border border-b border-gray-300 p-2 text-gray-700",on:{click:function(r){return t.addProductList(e)}}},[r("span",{staticClass:"block font-bold text-gray-700"},[t._v(t._s(e.name))]),t._v(" "),r("span",{staticClass:"block text-sm text-gray-600"},[t._v("SKU : "+t._s(e.sku))]),t._v(" "),r("span",{staticClass:"block text-sm text-gray-600"},[t._v("Barcode : "+t._s(e.barcode))])])})),0)])]),t._v(" "),r("div",{staticClass:"overflow-x-auto"},[r("table",{staticClass:"w-full"},[t._m(0),t._v(" "),r("tbody",[t._l(t.form.products,(function(e,s){return r("tr",{key:s,class:e.procurement.$invalid?"bg-red-200 border-2 border-red-500":"bg-gray-100"},[r("td",{staticClass:"p-2 text-gray-600 border border-gray-300"},[r("span",{staticClass:"font-semibold"},[t._v(t._s(e.name))]),t._v(" "),r("div",{staticClass:"flex justify-between"},[r("div",{staticClass:"flex -mx-1 flex-col"},[r("div",{staticClass:"px-1"},[r("span",{staticClass:"text-xs text-red-500 cursor-pointer underline px-1",on:{click:function(e){return t.deleteProduct(s)}}},[t._v("Delete")])])]),t._v(" "),r("div",{staticClass:"flex -mx-1 flex-col"},[r("div",{staticClass:"px-1"},[r("span",{staticClass:"text-xs text-red-500 cursor-pointer underline px-1",on:{click:function(e){return t.setProductOptions(s)}}},[t._v("Options")])])])])]),t._v(" "),r("td",{staticClass:"p-2 w-3 text-gray-600 border border-gray-300"},[r("div",{staticClass:"flex items-start"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.procurement.purchase_price_edit,expression:"product.procurement.purchase_price_edit"}],staticClass:"w-24 border-2 p-2 border-blue-400 rounded",attrs:{type:"text"},domProps:{value:e.procurement.purchase_price_edit},on:{change:function(e){return t.updateLine(s)},input:function(r){r.target.composing||t.$set(e.procurement,"purchase_price_edit",r.target.value)}}})])]),t._v(" "),r("td",{staticClass:"p-2 text-gray-600 border border-gray-300"},[r("div",{staticClass:"flex items-start"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.procurement.tax_group_id,expression:"product.procurement.tax_group_id"}],staticClass:"rounded border-blue-500 border-2 p-2",on:{change:[function(r){var s=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e.procurement,"tax_group_id",r.target.multiple?s:s[0])},function(e){return t.updateLine(s)}]}},t._l(t.taxes,(function(e){return r("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)])]),t._v(" "),r("td",{staticClass:"p-2 text-gray-600 border border-gray-300"},[r("div",{staticClass:"flex items-start flex-col justify-end"},[r("span",{staticClass:"text-sm text-gray-600"},[t._v(t._s(t._f("currency")(e.procurement.tax_value)))])])]),t._v(" "),r("td",{staticClass:"p-2 text-gray-600 border border-gray-300"},[r("div",{staticClass:"flex items-start"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.procurement.unit_id,expression:"product.procurement.unit_id"}],staticClass:"rounded border-blue-500 border-2 p-2 w-32",on:{change:function(r){var s=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e.procurement,"unit_id",r.target.multiple?s:s[0])}}},t._l(e.unit_quantities,(function(e){return r("option",{key:e.id,domProps:{value:e.unit.id}},[t._v(t._s(e.unit.name))])})),0)])]),t._v(" "),r("td",{staticClass:"p-2 text-gray-600 border border-gray-300"},[r("div",{staticClass:"flex items-start"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.procurement.quantity,expression:"product.procurement.quantity"}],staticClass:"w-24 border-2 p-2 border-blue-400 rounded",attrs:{type:"text"},domProps:{value:e.procurement.quantity},on:{change:function(e){return t.updateLine(s)},input:function(r){r.target.composing||t.$set(e.procurement,"quantity",r.target.value)}}})])]),t._v(" "),r("td",{staticClass:"p-2 text-gray-600 border border-gray-300"},[r("div",{staticClass:"flex items-start"},[t._v(t._s(t._f("currency")(e.procurement.total_purchase_price)))])])])})),t._v(" "),r("tr",{staticClass:"bg-gray-100"},[r("td",{staticClass:"p-2 text-gray-600 border border-gray-300",attrs:{colspan:"3"}}),t._v(" "),r("td",{staticClass:"p-2 text-gray-600 border border-gray-300"},[t._v(t._s(t._f("currency")(t.totalTaxValues)))]),t._v(" "),r("td",{staticClass:"p-2 text-gray-600 border border-gray-300",attrs:{colspan:"2"}}),t._v(" "),r("td",{staticClass:"p-2 text-gray-600 border border-gray-300"},[t._v(t._s(t._f("currency")(t.totalPurchasePrice)))])])],2)])])]):t._e()])])])]:t._e()],2)}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("td",{staticClass:"text-gray-700 p-2 border border-gray-300 bg-gray-200",attrs:{width:"200"}},[t._v("Product")]),t._v(" "),r("td",{staticClass:"text-gray-700 p-2 border border-gray-300 bg-gray-200",attrs:{width:"100"}},[t._v("Unit Price")]),t._v(" "),r("td",{staticClass:"text-gray-700 p-2 border border-gray-300 bg-gray-200",attrs:{width:"100"}},[t._v("Tax")]),t._v(" "),r("td",{staticClass:"text-gray-700 p-2 border border-gray-300 bg-gray-200",attrs:{width:"100"}},[t._v("Tax Value")]),t._v(" "),r("td",{staticClass:"text-gray-700 p-2 border border-gray-300 bg-gray-200",attrs:{width:"100"}},[t._v("UOM")]),t._v(" "),r("td",{staticClass:"text-gray-700 p-2 border border-gray-300 bg-gray-200",attrs:{width:"100"}},[t._v("Quantity")]),t._v(" "),r("td",{staticClass:"text-gray-700 p-2 border border-gray-300 bg-gray-200",attrs:{width:"100"}},[t._v("Total Price")])])])}],!1,null,null,null).exports,Q={template:"#ns-procurement-invoice",methods:{printInvoice:function(){this.$htmlToPaper("printable-container")}}},G=Object(f.a)(Q,void 0,void 0,!1,null,null,null).exports,z={name:"ns-notifications",data:function(){return{notifications:[],visible:!1,interval:null}},mounted:function(){var t=this;document.addEventListener("click",this.checkClickedItem),this.interval=setInterval((function(){t.loadNotifications()}),15e3),this.loadNotifications()},destroyed:function(){clearInterval(this.interval)},methods:{checkClickedItem:function(t){var e;e=!!document.getElementById("notification-center")&&document.getElementById("notification-center").contains(t.srcElement);var r=document.getElementById("notification-button").contains(t.srcElement);e||r||!this.visible||(this.visible=!1)},loadNotifications:function(){var t=this;o.nsHttpClient.get("/api/nexopos/v4/notifications").subscribe((function(e){t.notifications=e}))},triggerLink:function(t){if("url"!==t.url)return window.open(t.url,"_blank")},closeNotice:function(t,e){var r=this;o.nsHttpClient.delete("/api/nexopos/v4/notifications/".concat(e.id)).subscribe((function(t){r.loadNotifications()})),t.stopPropagation()}}},J=Object(f.a)(z,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"hover:bg-white hover:text-gray-700 hover:shadow-lg hover:border-opacity-0 rounded-full h-12 w-12 cursor-pointer font-bold text-2xl justify-center items-center flex text-gray-800",class:t.visible?"bg-white border-0 shadow-lg":"border border-gray-400",attrs:{id:"notification-button"},on:{click:function(e){t.visible=!t.visible}}},[t.notifications.length>0?r("div",{staticClass:"relative float-right"},[r("div",{staticClass:"absolute -ml-6 -mt-8"},[r("div",{staticClass:"bg-blue-400 text-white w-8 h-8 rounded-full text-xs flex items-center justify-center"},[t._v(t._s(t._f("abbreviate")(t.notifications.length)))])])]):t._e(),t._v(" "),r("i",{staticClass:"las la-bell"})]),t._v(" "),t.visible?r("div",{staticClass:"h-0 w-0",attrs:{id:"notification-center"}},[r("div",{staticClass:"absolute left-0 top-0 sm:relative w-screen zoom-out-entrance anim-duration-300 h-5/7-screen sm:w-64 sm:h-108 flex flex-row-reverse"},[r("div",{staticClass:"z-50 sm:rounded-lg shadow-lg h-full w-full bg-white md:mt-2 overflow-y-hidden flex flex-col"},[r("div",{staticClass:"sm:hidden p-2 cursor-pointer flex items-center justify-center border-b border-gray-200",on:{click:function(e){t.visible=!1}}},[r("h3",{staticClass:"font-semibold hover:text-blue-400"},[t._v("Close")])]),t._v(" "),r("div",{staticClass:"overflow-y-auto flex flex-col flex-auto"},[t._l(t.notifications,(function(e){return r("div",{key:e.id,staticClass:"notice border-b border-gray-200"},[r("div",{staticClass:"p-2 cursor-pointer",on:{click:function(r){return t.triggerLink(e)}}},[r("div",{staticClass:"flex items-center justify-between"},[r("h1",{staticClass:"font-semibold text-gray-700"},[t._v(t._s(e.title))]),t._v(" "),r("ns-close-button",{on:{click:function(r){return t.closeNotice(r,e)}}})],1),t._v(" "),r("p",{staticClass:"py-1 text-gray-600 text-sm"},[t._v(t._s(e.description))])])])})),t._v(" "),0===t.notifications.length?r("div",{staticClass:"h-full w-full flex items-center justify-center"},[t._m(0)]):t._e()],2),t._v(" "),t._m(1)])])]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex flex-col items-center"},[e("i",{staticClass:"las la-laugh-wink text-5xl text-gray-800"}),this._v(" "),e("p",{staticClass:"text-gray-600 text-sm"},[this._v("Nothing to care about !")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cursor-pointer"},[e("h3",{staticClass:"text-sm p-2 flex items-center justify-center hover:bg-red-100 w-full text-red-400 font-semibold hover:text-red-500"},[this._v("Clear All")])])}],!1,null,null,null).exports,Y=r(45),X=r(1),Z=r.n(X),tt=r(26),et={name:"ns-sale-report",data:function(){return{startDate:Z()(),endDate:Z()(),orders:[]}},components:{nsDatepicker:tt.default},computed:{totalDiscounts:function(){return this.orders.length>0?this.orders.map((function(t){return t.discount})).reduce((function(t,e){return t+e})):0},totalTaxes:function(){return this.orders.length>0?this.orders.map((function(t){return t.tax_value})).reduce((function(t,e){return t+e})):0},totalOrders:function(){return this.orders.length>0?this.orders.map((function(t){return t.total})).reduce((function(t,e){return t+e})):0}},methods:{printSaleReport:function(){this.$htmlToPaper("sale-report")},setStartDate:function(t){this.startDate=t.format(),console.log(this.startDate)},loadReport:function(){var t=this;if(null===this.startDate||null===this.endDate)return o.nsSnackBar.error("Unable to proceed. Select a correct time range.").subscribe();var e=Z()(this.startDate);if(Z()(this.endDate).isBefore(e))return o.nsSnackBar.error("Unable to proceed. The current time range is not valid.").subscribe();o.nsHttpClient.post("/api/nexopos/v4/reports/sale-report",{startDate:this.startDate,endDate:this.endDate}).subscribe((function(e){t.orders=e}),(function(t){o.nsSnackBar.error(t.message).subscribe()}))},setEndDate:function(t){this.endDate=t.format()}}},rt=Object(f.a)(et,(function(){var t=this.$createElement;return(this._self._c||t)("div")}),[],!1,null,null,null).exports,st={name:"ns-sold-stock-report",data:function(){return{startDate:Z()(),endDate:Z()(),products:[]}},components:{nsDatepicker:tt.default},computed:{totalQuantity:function(){return this.products.length>0?this.products.map((function(t){return t.quantity})).reduce((function(t,e){return t+e})):0},totalTaxes:function(){return this.products.length>0?this.products.map((function(t){return t.tax_value})).reduce((function(t,e){return t+e})):0},totalPrice:function(){return console.log(this.products),this.products.length>0?this.products.map((function(t){return t.total_price})).reduce((function(t,e){return t+e})):0}},methods:{printSaleReport:function(){this.$htmlToPaper("report-printable")},setStartDate:function(t){this.startDate=t.format()},loadReport:function(){var t=this;if(null===this.startDate||null===this.endDate)return o.nsSnackBar.error("Unable to proceed. Select a correct time range.").subscribe();var e=Z()(this.startDate);if(Z()(this.endDate).isBefore(e))return o.nsSnackBar.error("Unable to proceed. The current time range is not valid.").subscribe();o.nsHttpClient.post("/api/nexopos/v4/reports/sold-stock-report",{startDate:this.startDate,endDate:this.endDate}).subscribe((function(e){t.products=e}),(function(t){o.nsSnackBar.error(t.message).subscribe()}))},setEndDate:function(t){this.endDate=t.format()}}},at=Object(f.a)(st,(function(){var t=this.$createElement;return(this._self._c||t)("div")}),[],!1,null,null,null).exports,it={name:"ns-profit-report",data:function(){return{startDate:Z()(),endDate:Z()(),products:[]}},components:{nsDatepicker:tt.default},computed:{totalQuantities:function(){return this.products.length>0?this.products.map((function(t){return t.quantity})).reduce((function(t,e){return t+e})):0},totalPurchasePrice:function(){return this.products.length>0?this.products.map((function(t){return t.total_purchase_price})).reduce((function(t,e){return t+e})):0},totalSalePrice:function(){return this.products.length>0?this.products.map((function(t){return t.total_price})).reduce((function(t,e){return t+e})):0},totalProfit:function(){return this.products.length>0?this.products.map((function(t){return t.total_price-t.total_purchase_price})).reduce((function(t,e){return t+e})):0},totalTax:function(){return this.products.length>0?this.products.map((function(t){return t.tax_value})).reduce((function(t,e){return t+e})):0}},methods:{printSaleReport:function(){this.$htmlToPaper("profit-report")},setStartDate:function(t){this.startDate=t.format(),console.log(this.startDate)},loadReport:function(){var t=this;if(null===this.startDate||null===this.endDate)return o.nsSnackBar.error("Unable to proceed. Select a correct time range.").subscribe();var e=Z()(this.startDate);if(Z()(this.endDate).isBefore(e))return o.nsSnackBar.error("Unable to proceed. The current time range is not valid.").subscribe();o.nsHttpClient.post("/api/nexopos/v4/reports/profit-report",{startDate:this.startDate,endDate:this.endDate}).subscribe((function(e){t.products=e}),(function(t){o.nsSnackBar.error(t.message).subscribe()}))},setEndDate:function(t){this.endDate=t.format()}}},nt=Object(f.a)(it,(function(){var t=this.$createElement;return(this._self._c||t)("div")}),[],!1,null,null,null).exports,ot={name:"ns-cash-flow",mounted:function(){},components:{nsDatepicker:tt.default},data:function(){return{startDate:Z()(),endDate:Z()(),report:[]}},computed:{totalDebit:function(){return 0},totalCredit:function(){return 0}},methods:{setStartDate:function(t){this.startDate=t.format()},setEndDate:function(t){this.endDate=t.format()},loadReport:function(){var t=this,e=Z()(this.startDate),r=Z()(this.endDate);o.nsHttpClient.post("/api/nexopos/v4/reports/cash-flow",{startDate:e,endDate:r}).subscribe((function(e){t.report=e,console.log(t.report)}),(function(t){o.nsSnackBar.error(t.message).subscribe()}))}}},lt=Object(f.a)(ot,void 0,void 0,!1,null,null,null).exports,ct={name:"ns-yearly-report",mounted:function(){this.loadReport()},components:{nsDatepicker:tt.default},data:function(){return{startDate:Z()(),endDate:Z()(),report:[],year:"2020",labels:["month_paid_orders","month_taxes","month_expenses","month_income"]}},computed:{totalDebit:function(){return 0},totalCredit:function(){return 0}},methods:{setStartDate:function(t){this.startDate=t.format()},setEndDate:function(t){this.endDate=t.format()},printSaleReport:function(){this.$htmlToPaper("annual-report")},sumOf:function(t){return Object.values(this.report).length>0?Object.values(this.report).map((function(e){return parseFloat(e[t])||0})).reduce((function(t,e){return t+e})):0},loadReport:function(){var t=this,e=this.year;o.nsHttpClient.post("/api/nexopos/v4/reports/annual-report",{year:e}).subscribe((function(e){t.report=e}),(function(t){o.nsSnackBar.error(t.message).subscribe()}))}}},ut=Object(f.a)(ct,void 0,void 0,!1,null,null,null).exports,dt={name:"ns-dashboard-cards",data:function(){return{report:{}}},mounted:function(){this.loadReport()},methods:{loadReport:function(){var t=this;o.nsHttpClient.get("/api/nexopos/v4/dashboard/day").subscribe((function(e){t.report=e}))}}},ft=Object(f.a)(dt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"-m-4 flex flex-wrap"},[r("div",{staticClass:"p-4 w-full md:w-1/2 lg:w-1/4"},[r("div",{staticClass:"flex flex-auto flex-col rounded-lg shadow-lg bg-gradient-to-br from-blue-400 to-blue-600 text-white px-3 py-5"},[r("div",{staticClass:"flex flex-row md:flex-col flex-auto"},[r("div",{staticClass:"w-1/2 md:w-full flex md:flex-col md:items-start items-center justify-center"},[r("h6",{staticClass:"font-bold hidden text-right md:inline-block"},[t._v("Total Sales")]),t._v(" "),r("h3",{staticClass:"text-2xl font-black"},[t._v("\n                        "+t._s(t._f("currency")(t.report.total_paid_orders||0,"abbreviate"))+"\n                    ")])]),t._v(" "),r("div",{staticClass:"w-1/2 md:w-full flex flex-col px-2 justify-end items-end"},[r("h6",{staticClass:"font-bold inline-block text-right md:hidden"},[t._v("Total Sales")]),t._v(" "),r("h4",{staticClass:"text-xs text-right"},[t._v("+"+t._s(t._f("currency")(t.report.day_paid_orders||0))+" Today")])])])])]),t._v(" "),r("div",{staticClass:"p-4 w-full md:w-1/2 lg:w-1/4"},[r("div",{staticClass:"flex flex-auto flex-col rounded-lg shadow-lg bg-gradient-to-br from-green-400 to-green-600 text-white px-3 py-5"},[r("div",{staticClass:"flex flex-row md:flex-col flex-auto"},[r("div",{staticClass:"w-1/2 md:w-full flex md:flex-col md:items-start items-center justify-center"},[r("h6",{staticClass:"font-bold hidden text-right md:inline-block"},[t._v("Incomplete Orders")]),t._v(" "),r("h3",{staticClass:"text-2xl font-black"},[t._v("\n                        "+t._s(t._f("currency")(t.report.total_partially_paid_orders+t.report.total_unpaid_orders||0,"abbreviate"))+"\n                    ")])]),t._v(" "),r("div",{staticClass:"w-1/2 md:w-full flex flex-col px-2 justify-end items-end"},[r("h6",{staticClass:"font-bold inline-block text-right md:hidden"},[t._v("Incomplete Orders")]),t._v(" "),r("h4",{staticClass:"text-xs text-right"},[t._v("+"+t._s(t._f("currency")(t.report.day_unpaid_orders+t.report.day_partially_paid_orders||0))+" Today")])])])])]),t._v(" "),r("div",{staticClass:"p-4 w-full md:w-1/2 lg:w-1/4"},[r("div",{staticClass:"flex flex-auto flex-col rounded-lg shadow-lg bg-gradient-to-br from-red-300 via-red-400 to-red-500 text-white px-3 py-5"},[r("div",{staticClass:"flex flex-row md:flex-col flex-auto"},[r("div",{staticClass:"w-1/2 md:w-full flex md:flex-col md:items-start items-center justify-center"},[r("h6",{staticClass:"font-bold hidden text-right md:inline-block"},[t._v("Wasted Goods")]),t._v(" "),r("h3",{staticClass:"text-2xl font-black"},[t._v("\n                        "+t._s(t._f("currency")(t.report.total_wasted_goods||0,"abbreviate"))+"\n                    ")])]),t._v(" "),r("div",{staticClass:"w-1/2 md:w-full flex flex-col px-2 justify-end items-end"},[r("h6",{staticClass:"font-bold inline-block text-right md:hidden"},[t._v("Wasted Goods")]),t._v(" "),r("h4",{staticClass:"text-xs text-right"},[t._v("+"+t._s(t._f("currency")(t.report.day_wasted_goods||0))+" Today")])])])])]),t._v(" "),r("div",{staticClass:"p-4 w-full md:w-1/2 lg:w-1/4"},[r("div",{staticClass:"flex flex-auto flex-col rounded-lg shadow-lg bg-gradient-to-br from-indigo-400 to-indigo-600 text-white px-3 py-5"},[r("div",{staticClass:"flex flex-row md:flex-col flex-auto"},[r("div",{staticClass:"w-1/2 md:w-full flex md:flex-col md:items-start items-center justify-center"},[r("h6",{staticClass:"font-bold hidden text-right md:inline-block"},[t._v("Expenses")]),t._v(" "),r("h3",{staticClass:"text-2xl font-black"},[t._v("\n                        "+t._s(t._f("currency")(t.report.total_expenses||0,"abbreviate"))+"\n                    ")])]),t._v(" "),r("div",{staticClass:"w-1/2 md:w-full flex flex-col px-2 justify-end items-end"},[r("h6",{staticClass:"font-bold inline-block text-right md:hidden"},[t._v("Expenses")]),t._v(" "),r("h4",{staticClass:"text-xs text-right"},[t._v("+"+t._s(t._f("currency")(t.report.day_expenses||0))+" Today")])])])])])])}),[],!1,null,null,null).exports,pt={name:"ns-best-customers",mounted:function(){var t=this;this.hasLoaded=!1,this.subscription=Dashboard.bestCustomers.subscribe((function(e){t.hasLoaded=!0,t.customers=e}))},data:function(){return{customers:[],subscription:null,hasLoaded:!1}},destroyed:function(){this.subscription.unsubscribe()}},mt=Object(f.a)(pt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex flex-auto flex-col shadow rounded-lg overflow-hidden"},[r("div",{staticClass:"head bg-white flex-auto"},[t._m(0),t._v(" "),r("div",{staticClass:"body"},[t.hasLoaded?t._e():r("div",{staticClass:"h-56 w-full flex items-center justify-center"},[r("ns-spinner",{attrs:{size:"12",border:"4"}})],1),t._v(" "),t.hasLoaded&&0===t.customers.length?r("div",{staticClass:"h-56 flex items-center justify-center flex-col"},[r("i",{staticClass:"las la-grin-beam-sweat text-6xl text-gray-700"}),t._v(" "),r("p",{staticClass:"text-gray-600 text-sm"},[t._v("Well.. nothing to show for the meantime.")])]):t._e(),t._v(" "),t.customers.length>0?r("table",{staticClass:"table w-full"},[r("thead",t._l(t.customers,(function(e){return r("tr",{key:e.id,staticClass:"border-gray-300 border-b text-sm"},[r("th",{staticClass:"p-2"},[r("div",{staticClass:"-mx-1 flex justify-start items-center"},[t._m(1,!0),t._v(" "),r("div",{staticClass:"px-1 justify-center"},[r("h3",{staticClass:"font-semibold text-gray-600 items-center"},[t._v(t._s(e.name))])])])]),t._v(" "),r("th",{staticClass:"flex justify-end text-green-700 p-2"},[t._v(t._s(t._f("currency")(e.purchases_amount)))])])})),0)]):t._e()])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"head text-center border-b border-gray-200 text-gray-700 w-full py-2"},[e("h5",[this._v("Best Customers")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"px-1"},[e("div",{staticClass:"rounded-full bg-gray-600 h-6 w-6 "})])}],!1,null,null,null).exports,vt={name:"ns-best-customers",data:function(){return{subscription:null,cashiers:[],hasLoaded:!1}},mounted:function(){var t=this;this.hasLoaded=!1,this.subscription=Dashboard.bestCashiers.subscribe((function(e){t.hasLoaded=!0,t.cashiers=e}))},destroyed:function(){this.subscription.unsubscribe()}},bt=Object(f.a)(vt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex flex-auto flex-col shadow rounded-lg overflow-hidden"},[r("div",{staticClass:"head bg-white flex-auto"},[t._m(0),t._v(" "),r("div",{staticClass:"body"},[t.cashiers.length>0?r("table",{staticClass:"table w-full"},[r("thead",[t._l(t.cashiers,(function(e){return r("tr",{key:e.id,staticClass:"border-gray-300 border-b text-sm"},[r("th",{staticClass:"p-2"},[r("div",{staticClass:"-mx-1 flex justify-start items-center"},[t._m(1,!0),t._v(" "),r("div",{staticClass:"px-1 justify-center"},[r("h3",{staticClass:"font-semibold text-gray-600 items-center"},[t._v(t._s(e.username))])])])]),t._v(" "),r("th",{staticClass:"flex justify-end text-green-700 p-2"},[t._v(t._s(t._f("currency")(e.total_sales,"abbreviate")))])])})),t._v(" "),0===t.cashiers.length?r("tr",[r("th",{attrs:{colspan:"2"}},[t._v("No result to display.")])]):t._e()],2)]):t._e(),t._v(" "),t.hasLoaded?t._e():r("div",{staticClass:"h-56 flex items-center justify-center"},[r("ns-spinner",{attrs:{size:"8",border:"4"}})],1),t._v(" "),t.hasLoaded&&0===t.cashiers.length?r("div",{staticClass:"h-56 flex items-center justify-center flex-col"},[r("i",{staticClass:"las la-grin-beam-sweat text-6xl text-gray-700"}),t._v(" "),r("p",{staticClass:"text-gray-600 text-sm"},[t._v("Well.. nothing to show for the meantime.")])]):t._e()])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"head text-center border-b border-gray-200 text-gray-700 w-full py-2"},[e("h5",[this._v("Best Cashiers")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"px-1"},[e("div",{staticClass:"rounded-full bg-gray-600 h-6 w-6 "})])}],!1,null,null,null).exports,ht={name:"ns-orders-summary",data:function(){return{orders:[],subscription:null,hasLoaded:!1}},mounted:function(){var t=this;this.hasLoaded=!1,this.subscription=Dashboard.recentOrders.subscribe((function(e){t.hasLoaded=!0,t.orders=e}))},destroyed:function(){this.subscription.unsubscribe()}},xt=Object(f.a)(ht,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex flex-auto flex-col shadow rounded-lg overflow-hidden"},[t._m(0),t._v(" "),r("div",{staticClass:"head bg-gray-100 flex-auto flex-col flex h-56 overflow-y-auto"},[t.hasLoaded?t._e():r("div",{staticClass:"h-full flex items-center justify-center"},[r("ns-spinner",{attrs:{size:"8",border:"4"}})],1),t._v(" "),t.hasLoaded&&0===t.orders.length?r("div",{staticClass:"h-full flex items-center justify-center flex-col"},[r("i",{staticClass:"las la-grin-beam-sweat text-6xl text-gray-700"}),t._v(" "),r("p",{staticClass:"text-gray-600 text-sm"},[t._v("Well.. nothing to show for the meantime.")])]):t._e(),t._v(" "),t._l(t.orders,(function(e){return r("div",{key:e.id,staticClass:"border-b border-gray-200 p-2 flex justify-between",class:"paid"===e.payment_status?"bg-green-50":"bg-white"},[r("div",[r("h3",{staticClass:"text-lg font-semibold text-gray-600"},[t._v("Order : "+t._s(e.code))]),t._v(" "),r("div",{staticClass:"flex -mx-2"},[r("div",{staticClass:"px-1"},[r("h4",{staticClass:"text-semibold text-xs text-gray-500"},[r("i",{staticClass:"lar la-user-circle"}),t._v(" "),r("span",[t._v(t._s(e.user.username))])])]),t._v(" "),r("div",{staticClass:"divide-y-4"}),t._v(" "),r("div",{staticClass:"px-1"},[r("h4",{staticClass:"text-semibold text-xs text-gray-600"},[r("i",{staticClass:"las la-clock"}),t._v(" "),r("span",[t._v(t._s(e.created_at))])])])])]),t._v(" "),r("div",[r("h2",{staticClass:"text-xl font-bold",class:"paid"===e.payment_status?"text-green-600":"text-gray-700"},[t._v(t._s(t._f("currency")(e.total)))])])])}))],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"p-2 flex justify-between bg-white border-b"},[e("h3",{staticClass:"font-semibold text-gray-700"},[this._v("Recents Orders")]),this._v(" "),e("div",{})])}],!1,null,null,null).exports,_t={name:"ns-orders-chart",data:function(){return{totalWeeklySales:0,totalWeekTaxes:0,totalWeekExpenses:0,totalWeekIncome:0,chartOptions:{chart:{id:"vuechart-example",width:"100%",height:"100%"},stroke:{curve:"smooth",dashArray:[0,8]},xaxis:{categories:[]},colors:["#5f83f3","#AAA"]},series:[{name:"Current Week",data:[]},{name:"Previous Week",data:[]}],reportSubscription:null,report:null}},mounted:function(){var t=this;this.reportSubscription=Dashboard.weeksSummary.subscribe((function(e){void 0!==e.result&&(t.chartOptions.xaxis.categories=e.result.map((function(t){return t.label})),t.report=e,t.totalWeeklySales=0,t.totalWeekIncome=0,t.totalWeekExpenses=0,t.totalWeekTaxes=0,t.report.result.forEach((function(e,r){if(void 0!==e.current){var s=e.current.entries.map((function(t){return t.day_paid_orders})),a=0;s.length>0&&(a=s.reduce((function(t,e){return t+e})),t.totalWeekExpenses+=e.current.entries.map((function(t){return t.day_expenses})),t.totalWeekTaxes+=e.current.entries.map((function(t){return t.day_taxes})),t.totalWeekIncome+=e.current.entries.map((function(t){return t.day_income}))),t.series[0].data.push(a)}else t.series[0].data.push(0);if(void 0!==e.previous){var i=e.previous.entries.map((function(t){return t.day_paid_orders})),n=0;i.length>0&&(n=i.reduce((function(t,e){return t+e}))),t.series[1].data.push(n)}else t.series[1].data.push(0)})),t.totalWeeklySales=t.series[0].data.reduce((function(t,e){return t+e})))}))}},gt=Object(f.a)(_t,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex flex-auto flex-col shadow rounded-lg overflow-hidden"},[r("div",{staticClass:"head bg-white flex-auto flex h-56"},[r("div",{staticClass:"w-full h-full pt-2"},[t.report?r("vue-apex-charts",{attrs:{height:"100%",type:"area",options:t.chartOptions,series:t.series}}):t._e()],1)]),t._v(" "),r("div",{staticClass:"p-2 bg-white -mx-4 flex flex-wrap"},[r("div",{staticClass:"flex w-full md:w-1/2 lg:w-full xl:w-1/2 lg:border-b lg:border-t xl:border-none border-gray-200 lg:py-1 lg:my-1"},[r("div",{staticClass:"px-4 w-1/2 lg:w-1/2 flex flex-col items-center justify-center"},[r("span",{staticClass:"text-xs text-gray-600"},[t._v("Weekly Sales")]),t._v(" "),r("h2",{staticClass:"text-lg xl:text-xl text-gray-700 font-bold"},[t._v(t._s(t._f("currency")(t.totalWeeklySales,"abbreviate")))])]),t._v(" "),r("div",{staticClass:"px-4 w-1/2 lg:w-1/2 flex flex-col items-center justify-center"},[r("span",{staticClass:"text-xs text-gray-600"},[t._v("Week Taxes")]),t._v(" "),r("h2",{staticClass:"text-lg xl:text-xl text-gray-700 font-bold"},[t._v(t._s(t._f("currency")(t.totalWeekTaxes,"abbreviate")))])])]),t._v(" "),r("div",{staticClass:"flex w-full md:w-1/2 lg:w-full xl:w-1/2"},[r("div",{staticClass:"px-4 w-full lg:w-1/2 flex flex-col items-center justify-center"},[r("span",{staticClass:"text-xs text-gray-600"},[t._v("Net Income")]),t._v(" "),r("h2",{staticClass:"text-lg xl:text-xl text-gray-700 font-bold"},[t._v(t._s(t._f("currency")(t.totalWeekIncome,"abbreviate")))])]),t._v(" "),r("div",{staticClass:"px-4 w-full lg:w-1/2 flex flex-col items-center justify-center"},[r("span",{staticClass:"text-xs text-gray-600"},[t._v("Week Expenses")]),t._v(" "),r("h2",{staticClass:"text-lg xl:text-xl text-gray-700 font-bold"},[t._v(t._s(t._f("currency")(t.totalWeekExpenses,"abbreviate")))])])])])])}),[],!1,null,null,null).exports,yt=r(7);function Ct(t){return function(t){if(Array.isArray(t))return wt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return wt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}var kt={data:function(){return{finalValue:1,virtualStock:null,allSelected:!0,isLoading:!1,keys:[].concat(Ct([1,2,3].map((function(t){return{identifier:t,value:t}}))),Ct([4,5,6].map((function(t){return{identifier:t,value:t}}))),Ct([7,8,9].map((function(t){return{identifier:t,value:t}}))),[{identifier:"backspace",icon:"la-backspace"},{identifier:0,value:0},{identifier:"next",icon:"la-share"}])}},mounted:function(){var t=this;this.$popup.event.subscribe((function(e){"click-overlay"===e.event&&(t.$popupParams.reject(!1),t.$popup.close())})),this.$popupParams.quantity&&(this.finalValue=this.$popupParams.quantity),document.addEventListener("keyup",this.handleKeyPress)},destroyed:function(){document.removeEventListener("keypress",this.handleKeyPress)},methods:{handleKeyPress:function(t){13===t.keyCode&&this.inputValue({identifier:"next"})},inputValue:function(t){if("next"===t.identifier){var e=this.$popupParams,r=(e.product,e.data,parseFloat(this.finalValue));if(0===r)return o.nsSnackBar.error("Please provide a quantity").subscribe();this.resolve({quantity:r})}else"backspace"===t.identifier?this.allSelected?(this.finalValue=0,this.allSelected=!1):(this.finalValue=this.finalValue.toString(),this.finalValue=this.finalValue.substr(0,this.finalValue.length-1)||0):this.allSelected?(this.finalValue=t.value,this.finalValue=parseFloat(this.finalValue),this.allSelected=!1):(this.finalValue+=""+t.value,this.finalValue=parseFloat(this.finalValue))},resolve:function(t){this.$popupParams.resolve(t),this.$popup.close()}}},jt=Object(f.a)(kt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bg-white shadow min-h-2/5-screen w-3/4-screen md:w-3/5-screen lg:w-2/5-screen xl:w-1/5-screen relative"},[t._m(0),t._v(" "),r("div",{staticClass:"h-16 border-b bg-gray-800 text-white border-gray-200 flex items-center justify-center",attrs:{id:"screen"}},[r("h1",{staticClass:"font-bold text-3xl"},[t._v(t._s(t.finalValue))])]),t._v(" "),r("div",{staticClass:"grid grid-flow-row grid-cols-3 grid-rows-3",attrs:{id:"numpad"}},t._l(t.keys,(function(e,s){return r("div",{key:s,staticClass:"hover:bg-blue-400 hover:text-white hover:border-blue-600 text-xl font-bold border border-gray-200 h-24 flex items-center justify-center cursor-pointer",on:{click:function(r){return t.inputValue(e)}}},[void 0!==e.value?r("span",[t._v(t._s(e.value))]):t._e(),t._v(" "),e.icon?r("i",{staticClass:"las",class:e.icon}):t._e()])})),0)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex-shrink-0 py-2 border-b border-gray-200"},[e("h1",{staticClass:"text-xl font-bold text-gray-700 text-center"},[this._v("Define Quantity")])])}],!1,null,null,null).exports,St=r(32),Ot={name:"ns-stock-adjustment",props:["actions"],data:function(){return{search:"",timeout:null,suggestions:[],products:[]}},mounted:function(){console.log(this.actions)},methods:{searchProduct:function(t){var e=this;t.length>0&&o.nsHttpClient.post("/api/nexopos/v4/products/search",{search:t}).subscribe((function(t){if(!(t.length>0))return o.nsSnackBar.error("Looks like no products matched the searched term.").subscribe();1===t.length?e.addSuggestion(t[0]):e.suggestions=t}))},addSuggestion:function(t){var e=this;o.nsHttpClient.get("/api/nexopos/v4/products/".concat(t.id,"/units/quantities")).subscribe((function(r){if(!(r.length>0))return o.nsSnackBar.error("This product does't have any stock to adjust.").subscribe();t.quantities=r,t.adjust_quantity=1,t.adjust_action="",t.adjust_reason="",t.adjust_unit="",t.adjust_value=0,e.products.push(t),e.closeSearch()}))},closeSearch:function(){this.search="",this.suggestions=[]},recalculateProduct:function(t){console.log(t),""!==t.adjust_unit&&(["deleted","defective","lost"].includes(t.adjust_action)?t.adjust_value=-t.adjust_quantity*t.adjust_unit.sale_price:t.adjust_value=t.adjust_quantity*t.adjust_unit.sale_price),this.$forceUpdate()},openQuantityPopup:function(t){var e=this;new Promise((function(e,r){yt.a.show(jt,{resolve:e,reject:r,quantity:t.adjust_quantity})})).then((function(r){t.adjust_quantity=r.quantity,e.recalculateProduct(t)}))},proceedStockAdjustment:function(){var t=this;if(0===this.products.length)return o.nsSnackBar.error("Unable to proceed as the table is empty.").subscribe();yt.a.show(E.default,{title:"Confirm Your Action",message:"The stock adjustment is about to be made. Would you like to confirm ?",onAction:function(e){e&&o.nsHttpClient.post("/api/nexopos/v4/products/adjustments",{products:t.products}).subscribe((function(e){o.nsSnackBar.success(e.message).subscribe(),t.products=[]}),(function(t){o.nsSnackBar.error(t.message).subscribe()}))}})},provideReason:function(t){yt.a.show(St.default,{title:"More Details",message:"Useful to describe better what are the reasons that leaded to this adjustment.",input:t.adjust_reason,onAction:function(e){!1!==e&&(t.adjust_reason=e)}})},removeProduct:function(t){var e=this;yt.a.show(E.default,{title:"Confirm Your Action",message:"Would you like to remove this product from the table ?",onAction:function(r){if(r){var s=e.products.indexOf(t);e.products.splice(s,1)}}})}},watch:{search:function(){var t=this;this.search.length>0?(clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.searchProduct(t.search)}),500)):this.closeSearch()}}},$t=Object(f.a)(Ot,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"input-field flex border-2 border-blue-400 rounded"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"p-2 bg-white flex-auto outline-none",attrs:{type:"text"},domProps:{value:t.search},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeSearch()},input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),r("button",{staticClass:"px-3 py-2 bg-blue-400 text-white"},[t._v("Search")])]),t._v(" "),t.suggestions.length>0?r("div",{staticClass:"h-0"},[r("div",{staticClass:"shadow h-96 relative z-10 bg-white text-gray-700 zoom-in-entrance anim-duration-300 overflow-y-auto"},[r("ul",t._l(t.suggestions,(function(e){return r("li",{key:e.id,staticClass:"cursor-pointer hover:bg-gray-100 border-b border-gray-200 p-2 flex justify-between",on:{click:function(r){return t.addSuggestion(e)}}},[r("span",[t._v(t._s(e.name))])])})),0)])]):t._e(),t._v(" "),r("div",{staticClass:"table shadow bg-white my-2 w-full "},[r("table",{staticClass:"table w-full"},[t._m(0),t._v(" "),r("tbody",[0===t.products.length?r("tr",[r("td",{staticClass:"p-2 text-center text-gray-700",attrs:{colspan:"6"}},[t._v("Search and add some products")])]):t._e(),t._v(" "),t._l(t.products,(function(e){return r("tr",{key:e.id},[r("td",{staticClass:"p-2 text-gray-600"},[t._v(t._s(e.name)+" ("+t._s(e.adjust_unit.quantity||0)+")")]),t._v(" "),r("td",{staticClass:"p-2 text-gray-600"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.adjust_unit,expression:"product.adjust_unit"}],staticClass:"outline-none p-2 bg-white w-full border-2 border-blue-400",on:{change:[function(r){var s=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e,"adjust_unit",r.target.multiple?s:s[0])},function(r){return t.recalculateProduct(e)}]}},t._l(e.quantities,(function(e){return r("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e.unit.name))])})),0)]),t._v(" "),r("td",{staticClass:"p-2 text-gray-600"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.adjust_action,expression:"product.adjust_action"}],staticClass:"outline-none p-2 bg-white w-full border-2 border-blue-400",attrs:{name:"",id:""},on:{change:[function(r){var s=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e,"adjust_action",r.target.multiple?s:s[0])},function(r){return t.recalculateProduct(e)}]}},t._l(t.actions,(function(e){return r("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.label))])})),0)]),t._v(" "),r("td",{staticClass:"p-2 text-gray-600 flex items-center justify-center cursor-pointer",on:{click:function(r){return t.openQuantityPopup(e)}}},[r("span",{staticClass:"border-b border-dashed border-blue-400 py-2 px-4"},[t._v(t._s(e.adjust_quantity))])]),t._v(" "),r("td",{staticClass:"p-2 text-gray-600"},[r("span",{staticClass:"border-b border-dashed border-blue-400 py-2 px-4"},[t._v(t._s(t._f("currency")(e.adjust_value)))])]),t._v(" "),r("td",{staticClass:"p-2 text-gray-600"},[r("div",{staticClass:"-mx-1 flex justify-end"},[r("div",{staticClass:"px-1"},[r("button",{staticClass:"bg-blue-400 text-white outline-none rounded-full shadow h-10 w-10",on:{click:function(r){return t.provideReason(e)}}},[r("i",{staticClass:"las la-comment-dots"})])]),t._v(" "),r("div",{staticClass:"px-1"},[r("button",{staticClass:"bg-red-400 text-white outline-none rounded-full shadow h-10 w-10",on:{click:function(r){return t.removeProduct(e)}}},[r("i",{staticClass:"las la-times"})])])])])])}))],2)]),t._v(" "),r("div",{staticClass:"border-t border-gray-200 p-2 flex justify-end"},[r("ns-button",{attrs:{type:"info"},on:{click:function(e){return t.proceedStockAdjustment()}}},[t._v("Proceed")])],1)])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",{staticClass:"border-b border-gray-400"},[r("tr",[r("td",{staticClass:"p-2 text-gray-700"},[t._v("Product")]),t._v(" "),r("td",{staticClass:"p-2 text-center text-gray-700",attrs:{width:"120"}},[t._v("Unit")]),t._v(" "),r("td",{staticClass:"p-2 text-center text-gray-700",attrs:{width:"120"}},[t._v("Operation")]),t._v(" "),r("td",{staticClass:"p-2 text-center text-gray-700",attrs:{width:"120"}},[t._v("Quantity")]),t._v(" "),r("td",{staticClass:"p-2 text-center text-gray-700",attrs:{width:"120"}},[t._v("Value")]),t._v(" "),r("td",{staticClass:"p-2 text-center text-gray-700",attrs:{width:"150"}},[t._v("Actions")])])])}],!1,null,null,null).exports,Pt={props:["order","billing","shipping"],methods:{printTable:function(){this.$htmlToPaper("invoice-container")}}},Dt=Object(f.a)(Pt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"shadow bg-white"},[r("div",{staticClass:"head p-2 bg-gray-100 flex justify-between border-b border-gray-300"},[r("div",{staticClass:"-mx-2 flex flex-wrap"},[r("div",{staticClass:"px-2"},[r("ns-button",{attrs:{type:"info"},on:{click:function(e){return t.printTable()}}},[r("i",{staticClass:"las la-print"}),t._v(" "),r("span",[t._v("Print")])])],1)])]),t._v(" "),r("div",{staticClass:"body flex flex-col px-2",attrs:{id:"invoice-container"}},[r("div",{staticClass:"flex -mx-2 flex-wrap",attrs:{id:"invoice-header"}},[r("div",{staticClass:"w-full print:w-1/3 md:w-1/3 px-2"},[r("div",{staticClass:"p-2"},[r("h3",{staticClass:"font-semibold text-xl text-gray-700 border-b border-blue-400 py-2"},[t._v("Store Details")]),t._v(" "),r("div",{staticClass:"details"},[r("ul",{staticClass:"my-1"},[r("li",{staticClass:"flex justify-between text-gray-600 text-sm mb-1"},[r("span",{staticClass:"font-semibold"},[t._v("Order Code")]),t._v(" "),r("span",[t._v(t._s(t.order.code))])]),t._v(" "),r("li",{staticClass:"flex justify-between text-gray-600 text-sm mb-1"},[r("span",{staticClass:"font-semibold"},[t._v("Cashier")]),t._v(" "),r("span",[t._v(t._s(t.order.user.username))])]),t._v(" "),r("li",{staticClass:"flex justify-between text-gray-600 text-sm mb-1"},[r("span",{staticClass:"font-semibold"},[t._v("Date")]),t._v(" "),r("span",[t._v(t._s(t.order.created_at))])]),t._v(" "),r("li",{staticClass:"flex justify-between text-gray-600 text-sm mb-1"},[r("span",{staticClass:"font-semibold"},[t._v("Customer")]),t._v(" "),r("span",[t._v(t._s(t.order.customer.name))])]),t._v(" "),r("li",{staticClass:"flex justify-between text-gray-600 text-sm mb-1"},[r("span",{staticClass:"font-semibold"},[t._v("Type")]),t._v(" "),r("span",[t._v(t._s(t.order.type))])]),t._v(" "),r("li",{staticClass:"flex justify-between text-gray-600 text-sm mb-1"},[r("span",{staticClass:"font-semibold"},[t._v("Payment Status")]),t._v(" "),r("span",[t._v(t._s(t.order.payment_status))])]),t._v(" "),"delivery"===t.order.type?r("li",{staticClass:"flex justify-between text-gray-600 text-sm mb-1"},[r("span",{staticClass:"font-semibold"},[t._v("Delivery Status")]),t._v(" "),r("span",[t._v(t._s(t.order.delivery_status))])]):t._e()])])])]),t._v(" "),r("div",{staticClass:"w-full print:w-1/3 md:w-1/3 px-2"},[r("div",{staticClass:"p-2"},[r("h3",{staticClass:"font-semibold text-xl text-gray-700 border-b border-blue-400 py-2"},[t._v("Billing Details")]),t._v(" "),r("div",{staticClass:"details"},[r("ul",{staticClass:"my-1"},t._l(t.billing,(function(e){return r("li",{key:e.id,staticClass:"flex justify-between text-gray-600 text-sm mb-1"},[r("span",{staticClass:"font-semibold"},[t._v(t._s(e.label))]),t._v(" "),r("span",[t._v(t._s(t.order.billing_address[e.name]||"N/A"))])])})),0)])])]),t._v(" "),r("div",{staticClass:"w-full print:w-1/3 md:w-1/3 px-2"},[r("div",{staticClass:"p-2"},[r("h3",{staticClass:"font-semibold text-xl text-gray-700 border-b border-blue-400 py-2"},[t._v("Shipping Details")]),t._v(" "),r("div",{staticClass:"details"},[r("ul",{staticClass:"my-1"},t._l(t.shipping,(function(e){return r("li",{key:e.id,staticClass:"flex justify-between text-gray-600 text-sm mb-1"},[r("span",{staticClass:"font-semibold"},[t._v(t._s(e.label))]),t._v(" "),r("span",[t._v(t._s(t.order.shipping_address[e.name]||"N/A"))])])})),0)])])])]),t._v(" "),r("div",{staticClass:"table w-full my-4"},[r("table",{staticClass:"table w-full"},[t._m(0),t._v(" "),r("tbody",t._l(t.order.products,(function(e){return r("tr",{key:e.id},[r("td",{staticClass:"p-2 border border-gray-200"},[r("h3",{staticClass:"text-gray-700"},[t._v(t._s(e.name))]),t._v(" "),r("span",{staticClass:"text-sm text-gray-600"},[t._v(t._s(e.unit))])]),t._v(" "),r("td",{staticClass:"p-2 border border-gray-200 text-center text-gray-700"},[t._v(t._s(t._f("currency")(e.unit_price)))]),t._v(" "),r("td",{staticClass:"p-2 border border-gray-200 text-center text-gray-700"},[t._v(t._s(e.quantity))]),t._v(" "),r("td",{staticClass:"p-2 border border-gray-200 text-center text-gray-700"},[t._v(t._s(t._f("currency")(e.discount)))]),t._v(" "),r("td",{staticClass:"p-2 border border-gray-200 text-center text-gray-700"},[t._v(t._s(t._f("currency")(e.tax_value)))]),t._v(" "),r("td",{staticClass:"p-2 border border-gray-200 text-right text-gray-700"},[t._v(t._s(t._f("currency")(e.total_price)))])])})),0),t._v(" "),r("tfoot",{staticClass:"font-semibold bg-gray-100"},[r("tr",[r("td",{staticClass:"p-2 border border-gray-200 text-center text-gray-700",attrs:{colspan:"2"}},[["unpaid","partially_paid"].includes(t.order.payment_status)?r("div",{staticClass:"flex justify-between"},[r("span",[t._v("\n                                    Expiration Date\n                                ")]),t._v(" "),r("span",[t._v(t._s(t.order.expected_payment_date))])]):t._e()]),t._v(" "),r("td",{staticClass:"p-2 border border-gray-200 text-center text-gray-700",attrs:{colspan:"2"}}),t._v(" "),r("td",{staticClass:"p-2 border border-gray-200 text-gray-700 text-left"},[t._v("Sub Total")]),t._v(" "),r("td",{staticClass:"p-2 border border-gray-200 text-right text-gray-700"},[t._v(t._s(t._f("currency")(t.order.subtotal)))])]),t._v(" "),r("tr",[r("td",{staticClass:"p-2 border border-gray-200 text-center text-gray-700",attrs:{colspan:"4"}}),t._v(" "),r("td",{staticClass:"p-2 border border-gray-200 text-gray-700 text-left"},[t._v("Discount")]),t._v(" "),r("td",{staticClass:"p-2 border border-gray-200 text-right text-gray-700"},[t._v(t._s(t._f("currency")(t.order.discount)))])]),t._v(" "),r("tr",[r("td",{staticClass:"p-2 border border-gray-200 text-center text-gray-700",attrs:{colspan:"4"}}),t._v(" "),r("td",{staticClass:"p-2 border border-gray-200 text-gray-700 text-left"},[t._v("Shipping")]),t._v(" "),r("td",{staticClass:"p-2 border border-gray-200 text-right text-gray-700"},[t._v(t._s(t._f("currency")(t.order.shipping)))])]),t._v(" "),r("tr",[r("td",{staticClass:"p-2 border border-gray-200 text-center text-gray-700",attrs:{colspan:"4"}}),t._v(" "),r("td",{staticClass:"p-2 border border-gray-200 text-gray-700 text-left"},[t._v("Total")]),t._v(" "),r("td",{staticClass:"p-2 border border-gray-200 text-right text-gray-700"},[t._v(t._s(t._f("currency")(t.order.total)))])]),t._v(" "),r("tr",[r("td",{staticClass:"p-2 border border-gray-200 text-center text-gray-700",attrs:{colspan:"4"}}),t._v(" "),r("td",{staticClass:"p-2 border border-gray-200 text-gray-700 text-left"},[t._v("Paid")]),t._v(" "),r("td",{staticClass:"p-2 border border-gray-200 text-right text-gray-700"},[t._v(t._s(t._f("currency")(t.order.tendered)))])]),t._v(" "),["partially_paid","unpaid"].includes(t.order.payment_status)?r("tr",{staticClass:"bg-red-200 border-red-300"},[r("td",{staticClass:"p-2 border border-red-200 text-center text-red-700",attrs:{colspan:"4"}}),t._v(" "),r("td",{staticClass:"p-2 border border-red-200 text-red-700 text-left"},[t._v("Due")]),t._v(" "),r("td",{staticClass:"p-2 border border-red-200 text-right text-red-700"},[t._v(t._s(t._f("currency")(t.order.change)))])]):r("tr",[r("td",{staticClass:"p-2 border border-gray-200 text-center text-gray-700",attrs:{colspan:"4"}}),t._v(" "),r("td",{staticClass:"p-2 border border-gray-200 text-gray-700 text-left"},[t._v("Change")]),t._v(" "),r("td",{staticClass:"p-2 border border-gray-200 text-right text-gray-700"},[t._v(t._s(t._f("currency")(t.order.change)))])])])])])])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",{staticClass:"text-gray-600 bg-gray-100"},[r("tr",[r("th",{staticClass:"p-2 border border-gray-200",attrs:{width:"400"}},[t._v("Product")]),t._v(" "),r("th",{staticClass:"p-2 border border-gray-200",attrs:{width:"200"}},[t._v("Unit Price")]),t._v(" "),r("th",{staticClass:"p-2 border border-gray-200",attrs:{width:"200"}},[t._v("Quantity")]),t._v(" "),r("th",{staticClass:"p-2 border border-gray-200",attrs:{width:"200"}},[t._v("Discount")]),t._v(" "),r("th",{staticClass:"p-2 border border-gray-200",attrs:{width:"200"}},[t._v("Tax")]),t._v(" "),r("th",{staticClass:"p-2 border border-gray-200",attrs:{width:"200"}},[t._v("Total Price")])])])}],!1,null,null,null).exports,Tt=r(53),Ft=r(229),Et=r.n(Ft),Vt=r(230),Bt=r.n(Vt),Nt=window.nsState,At=window.nsScreen,Ut=window.nsExtraComponents;a.a.use(Bt.a,{name:"_blank",specs:["fullscreen=yes","titlebar=yes","scrollbars=yes"],styles:["/css/app.css"]});var Mt=a.a.component("vue-apex-charts",Et.a),Rt=new a.a({el:"#dashboard-aside",data:{sidebar:"visible"},components:{nsButton:i.nsButton,nsCheckbox:i.nsCheckbox,nsCkeditor:i.nsCkeditor,nsCloseButton:i.nsCloseButton,nsCrud:i.nsCrud,nsCrudForm:i.nsCrudForm,nsDate:i.nsDate,nsDatepicker:i.nsDatepicker,nsField:i.nsField,nsInput:i.nsInput,nsLink:i.nsLink,nsMediaInput:i.nsMediaInput,nsMenu:i.nsMenu,nsMultiselect:i.nsMultiselect,nsSelect:i.nsSelect,nsSpinner:i.nsSpinner,nsSubmenu:i.nsSubmenu,nsSwitch:i.nsSwitch,nsTableRow:i.nsTableRow,nsTabs:i.nsTabs,nsTabsItem:i.nsTabsItem,nsTextarea:i.nsTextarea},mounted:function(){var t=this;Nt.behaviorState.subscribe((function(e){var r=e.object;t.sidebar=r.sidebar}))}});window.nsDashboardAside=Rt,window.nsDashboardOverlay=new a.a({el:"#dashboard-overlay",data:{sidebar:null},components:{nsButton:i.nsButton,nsCheckbox:i.nsCheckbox,nsCkeditor:i.nsCkeditor,nsCloseButton:i.nsCloseButton,nsCrud:i.nsCrud,nsCrudForm:i.nsCrudForm,nsDate:i.nsDate,nsDatepicker:i.nsDatepicker,nsField:i.nsField,nsInput:i.nsInput,nsLink:i.nsLink,nsMediaInput:i.nsMediaInput,nsMenu:i.nsMenu,nsMultiselect:i.nsMultiselect,nsSelect:i.nsSelect,nsSpinner:i.nsSpinner,nsSubmenu:i.nsSubmenu,nsSwitch:i.nsSwitch,nsTableRow:i.nsTableRow,nsTabs:i.nsTabs,nsTabsItem:i.nsTabsItem,nsTextarea:i.nsTextarea},mounted:function(){var t=this;Nt.behaviorState.subscribe((function(e){var r=e.object;t.sidebar=r.sidebar}))},methods:{closeMenu:function(){Nt.setState({sidebar:"hidden"===this.sidebar?"visible":"hidden"})}}}),window.nsDashboardHeader=new a.a({el:"#dashboard-header",data:{menuToggled:!1},components:{nsButton:i.nsButton,nsCheckbox:i.nsCheckbox,nsCkeditor:i.nsCkeditor,nsCloseButton:i.nsCloseButton,nsCrud:i.nsCrud,nsCrudForm:i.nsCrudForm,nsDate:i.nsDate,nsDatepicker:i.nsDatepicker,nsField:i.nsField,nsInput:i.nsInput,nsLink:i.nsLink,nsMediaInput:i.nsMediaInput,nsMenu:i.nsMenu,nsMultiselect:i.nsMultiselect,nsSelect:i.nsSelect,nsSpinner:i.nsSpinner,nsSubmenu:i.nsSubmenu,nsSwitch:i.nsSwitch,nsTableRow:i.nsTableRow,nsTabs:i.nsTabs,nsTabsItem:i.nsTabsItem,nsTextarea:i.nsTextarea,NsNotifications:J},methods:{toggleMenu:function(){this.menuToggled=!this.menuToggled},toggleSideMenu:function(){["lg","xl"].includes(At.breakpoint)?Nt.setState({sidebar:"collapsed"===this.sidebar?"visible":"collapsed"}):Nt.setState({sidebar:"hidden"===this.sidebar?"visible":"hidden"})}},mounted:function(){var t=this;Nt.behaviorState.subscribe((function(e){var r=e.object;t.sidebar=r.sidebar}))}});var Ht=Object.assign({NsModules:P,NsRewardsSystem:p,NsCreateCoupons:h,NsManageProducts:U,NsSettings:_,NsReset:y,NsPermissions:F,NsProcurement:K,NsProcurementInvoice:G,NsMedia:Y.a,NsDashboardCards:ft,NsBestCustomers:mt,NsBestCashiers:bt,NsOrdersSummary:xt,NsOrdersChart:gt,NsSaleReport:rt,NsSoldStockReport:at,NsProfitReport:nt,NsCashFlowReport:lt,NsYearlyReport:ut,NsStockAdjustment:$t,NsPromptPopup:St.default,NsAlertPopup:Tt.default,NsConfirmPopup:E.default,NsOrderInvoice:Dt,VueApexCharts:Mt},Ut);console.log(Ht),window.nsComponents=Object.assign(Ht,i),window.nsDashboardContent=new a.a({el:"#dashboard-content",components:Ht})}},[[253,0,1]]]);
//# sourceMappingURL=app.js.map