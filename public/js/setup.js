(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{266:function(e,t,a){e.exports=a(51)},281:function(e,t,a){"use strict";a.r(t);var s={components:{nsLink:a(3).nsLink}},i=a(2),n=Object(i.a)(s,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bg-white rounded shadow my-2 overflow-hidden"},[this._m(0),this._v(" "),t("div",{staticClass:"bg-gray-200 p-3 flex justify-end"},[t("ns-link",{attrs:{to:"/database",type:"info"}},[t("i",{staticClass:"las la-database"}),this._v(" Database Configuration")])],1)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"welcome-box border-b border-gray-300 p-3 text-gray-700"},[t("p",{staticClass:"text-gray-600 text-sm"},[this._v("Thank you for having choosed NexoPOS 4 for managing your store. This is the installation wizard that will guide you through the installation.")]),this._v(" "),t("div",{staticClass:"py-2"},[t("h2",{staticClass:"text-xl font-body text-gray-700"},[this._v("Remaining Steps")]),this._v(" "),t("ul",{staticClass:"text-gray-600 text-sm"},[t("li",[t("i",{staticClass:"las la-arrow-right"}),this._v(" Database Configuration")]),this._v(" "),t("li",[t("i",{staticClass:"las la-arrow-right"}),this._v(" Application Configuration")])])])])}],!1,null,null,null);t.default=n.exports},282:function(e,t,a){"use strict";a.r(t);var s=a(8),i=a(51),n={data:function(){return{form:new s.a,fields:[]}},methods:{validate:function(){var e=this;this.form.validateFields(this.fields)&&(this.form.disableFields(this.fields),this.checkDatabase(this.form.getValue(this.fields)).subscribe((function(t){e.form.enableFields(e.fields),i.nsRouter.push("/configuration"),nsSnackBar.success(t.message,"OKAY",{duration:5e3}).subscribe()}),(function(t){e.form.enableFields(e.fields),nsSnackBar.error(t.message,"OKAY").subscribe()})))},checkDatabase:function(e){return nsHttpClient.post("/api/nexopos/v4/setup/database",e)}},mounted:function(){this.fields=this.form.createFields([{label:"Hostname",description:"Provide the database hostname",name:"hostname",value:"localhost",validation:"required"},{label:"Username",description:"Username required to connect to the database.",name:"username",value:"root",validation:"required"},{label:"Password",description:"The username password required to connect.",name:"password",value:""},{label:"Database Name",description:"Provide the database name.",name:"database_name",value:"nexopos_v4",validation:"required"},{label:"Database Prefix",description:"Provide the database prefix.",name:"database_prefix",value:"ns_",validation:"required"}])}},r=a(2),o=Object(r.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bg-white rounded shadow my-4"},[a("div",{staticClass:"welcome-box border-b border-gray-300 p-3 text-gray-700"},e._l(e.fields,(function(t,s){return a("ns-input",{key:s,attrs:{field:t},on:{change:function(a){return e.form.validateField(t)}}},[a("span",[e._v(e._s(t.label))]),e._v(" "),a("template",{slot:"description"},[e._v(e._s(t.description))])],2)})),1),e._v(" "),a("div",{staticClass:"bg-gray-200 p-3 flex justify-end"},[a("ns-button",{attrs:{type:"info"},on:{click:function(t){return e.validate()}}},[e._v("Save Database")])],1)])}),[],!1,null,null,null);t.default=o.exports},283:function(e,t,a){"use strict";a.r(t);var s=a(8),i=a(0),n=a(51),r={data:function(){return{form:new s.a,fields:[],processing:!1,steps:[]}},methods:{validate:function(){},verifyDBConnectivity:function(){},saveConfiguration:function(e){var t=this;return this.form.disableFields(this.fields),this.processing=!0,i.nsHttpClient.post("/api/nexopos/v4/setup/configuration",this.form.getValue(this.fields)).subscribe((function(e){document.location="/sign-in"}),(function(e){t.processing=!1,t.form.enableFields(t.fields),t.form.triggerFieldsErrors(t.fields,e.data),i.nsSnackBar.error(e.message,"OK").subscribe()}))}},mounted:function(){var e=this;i.nsHttpClient.get("/api/nexopos/v4/setup/database").subscribe((function(t){e.fields=e.form.createFields([{label:"Application",description:"That is the application name.",name:"ns_store_name",validation:"required"},{label:"Username",description:"Provide the administrator username.",name:"admin_username",validation:"required"},{label:"Email",description:"Provide the administrator email.",name:"admin_email",validation:"required"},{label:"Password",type:"password",description:"What should be the password required for authentication.",name:"password",validation:"required"},{label:"Confirm Password",type:"password",description:"Should be the same as the password above.",name:"confirm_password",validation:"required"}])}),(function(e){n.nsRouter.push("/database"),i.nsSnackBar.error("You need to define database settings","OKAY",{duration:3e3}).subscribe()}))}},o=a(2),l=Object(o.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[0===e.fields.length?a("ns-spinner",{attrs:{size:"12",border:"4",animation:"fast"}}):e._e(),e._v(" "),e.fields.length>0?a("div",{staticClass:"bg-white rounded shadow my-2"},[a("div",{staticClass:"welcome-box border-b border-gray-300 p-3 text-gray-700"},e._l(e.fields,(function(e,t){return a("ns-field",{key:t,attrs:{field:e}})})),1),e._v(" "),a("div",{staticClass:"bg-gray-200 p-3 flex justify-between items-center"},[a("div",[e.processing?a("ns-spinner",{attrs:{size:"8",border:"4"}}):e._e()],1),e._v(" "),a("ns-button",{attrs:{disabled:e.processing,type:"info"},on:{click:function(t){return e.saveConfiguration()}}},[e._v("Create Installation")])],1)]):e._e()],1)}),[],!1,null,null,null);t.default=l.exports},51:function(e,t,a){"use strict";a.r(t),a.d(t,"nsRouter",(function(){return o}));var s=a(5),i=a.n(s),n=a(55),r=[{path:"/",component:a(281).default},{path:"/database",component:a(282).default},{path:"/configuration",component:a(283).default}];i.a.use(n.a);var o=new n.a({routes:r});new i.a({router:o}).$mount("#nexopos-setup")}},[[266,0,1]]]);
//# sourceMappingURL=setup.js.map